import{G as ot,H as ka,I as Ia,J as Ci,K as Pi,N as Oi,g as Ti,h as $i,i as Na,T as J,O as Ai,r as W,k as La,b as mt,j as u,_ as pe,d as Fa,f as za,Q as Ct,R as Mi,U as D,m as Fe,V as Ri,X as ji,Y as ki,Z as Ii,$ as Ni,a0 as Li,a1 as Fi,a2 as zi,a3 as Wi,a4 as Wa,P as k,a5 as Hi,l as gt,q as rn,a6 as Ui,D as We,a7 as Dt,v as pt,a8 as Bi,a9 as qi,aa as Yi,B as Xe,ab as Ha,S as de,F as ar,ac as Ki,M as ke,ad as Gi,ae as Ua,af as Vi,ag as Xi,ah as Qi,y as Zi,ai as Ji,w as es,aj as Tr,ak as Cn,al as Pn,am as On,A as $r,L as ts,E as rs,C as Ar,W as ns}from"./index-ac9ff841.js";import{v as as}from"./index-07a45a0f.js";import{a as Ba,C as os,S as Tn}from"./index-cd891ceb.js";import{a as is,g as ss,b as ls,c as cs,d as us,e as Qe,L as Xt,A as Qt,D as Zt,G as oe}from"./useMobilePicker-08f8e8d2.js";import{u as qa,a as fr,n as pr,t as hr,v as Ya,w as vr,x as ds,e as Ka,j as ze,y as fs,z as ps,A as hs,i as nn,B as mr,C as gr,D as vs,E as ms,q as an,l as on,p as Ga,h as Va,F as gs,G as ys,H as Xa,r as bs,I as sn,s as Qa,b as Nt,k as yr,J as Za,K as Ja,d as ws,L as eo,M as Ss,c as xs,f as Es,g as Ds,o as _s,N as Cs,O as Ps,P as Os,m as Ts,_ as $s}from"./_isIterateeCall-58925f48.js";import{a as As,r as Ms,D as Jt}from"./DatePicker-4ef9af15.js";import{T as Rs,a as js,b as ks,c as qe,d as we,e as Is}from"./TableRow-e4ccd2c6.js";import{C as to}from"./Card-e233703d.js";import{C as Ns}from"./Container-4de9085b.js";import{I as ve,T as ge}from"./TextField-e61b5b6a.js";import"./isMuiElement-b51044cf.js";function Ls(e,t){if(ot(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ot(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ro(e){var t=Ls(e,"string");return ot(t)=="symbol"?t:t+""}function $n(e,t){ka(2,arguments);var r=Ia(e),n=Ci(t);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}function Fs(e){ka(1,arguments);var t=Ia(e);return t.setHours(0,0,0,0),t}function Ur(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ln(e,t){if(e){if(typeof e=="string")return Ur(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ur(e,t):void 0}}function Oe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pi(e,t)}function or(e){return or=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},or(e)}function no(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(no=function(){return!!e})()}function zs(e,t){if(t&&(ot(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oi(e)}function Se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function An(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ro(n.key),n)}}function xe(e,t,r){return t&&An(e.prototype,t),r&&An(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function nt(e,t,r){return(t=ro(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ws(e){return Ti("MuiDialogContentText",e)}$i("MuiDialogContentText",["root"]);const Hs=["children","className"],Us=e=>{const{classes:t}=e,n=za({root:["root"]},Ws,t);return pe({},t,n)},Bs=Na(J,{shouldForwardProp:e=>Ai(e)||e==="classes",name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({}),qs=W.forwardRef(function(t,r){const n=La({props:t,name:"MuiDialogContentText"}),{className:a}=n,o=mt(n,Hs),i=Us(o);return u.jsx(Bs,pe({component:"p",variant:"body1",color:"text.secondary",ref:r,ownerState:o,className:Fa(i.root,a)},n,{classes:i}))}),Ys=qs,Ks=["className","id"],Gs=e=>{const{classes:t}=e;return za({root:["root"]},ss,t)},Vs=Na(J,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),Xs=W.forwardRef(function(t,r){const n=La({props:t,name:"MuiDialogTitle"}),{className:a,id:o}=n,i=mt(n,Ks),s=n,l=Gs(s),{titleId:c=o}=W.useContext(is);return u.jsx(Vs,pe({component:"h2",className:Fa(l.root,a),ownerState:s,ref:r,variant:"h6",id:o??c},i))}),Qs=Xs;function Mn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ce(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mn(Object(r),!0).forEach(function(n){nt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mn(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ue(e,t){if(e==null)return{};var r,n,a=mt(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Te(e,t,r){return t=or(t),zs(e,no()?Reflect.construct(t,r||[],or(e).constructor):t.apply(e,r))}function ao(e){if(Array.isArray(e))return e}function Zs(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function oo(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ke(e,t){return ao(e)||Zs(e,t)||ln(e,t)||oo()}var Js=function(){};function el(e,t){var r={};return Object.keys(e).forEach(function(n){r[er(n)]=Js}),r}function Rn(e,t){return e[t]!==void 0}function er(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function tl(e){return!!e&&(typeof e!="function"||e.prototype&&e.prototype.isReactComponent)}function io(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function so(e){function t(r){var n=this.constructor.getDerivedStateFromProps(e,r);return n??null}this.setState(t.bind(this))}function lo(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}io.__suppressDeprecationWarning=!0;so.__suppressDeprecationWarning=!0;lo.__suppressDeprecationWarning=!0;function rl(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var r=null,n=null,a=null;if(typeof t.componentWillMount=="function"?r="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?a="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(a="UNSAFE_componentWillUpdate"),r!==null||n!==null||a!==null){var o=e.displayName||e.name,i=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+i+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(n!==null?`
  `+n:"")+(a!==null?`
  `+a:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=io,t.componentWillReceiveProps=so),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=lo;var s=t.componentDidUpdate;t.componentDidUpdate=function(c,d,f){var p=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:f;s.call(this,c,d,p)}}return e}var nl="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function co(e,t,r){r===void 0&&(r=[]);var n=e.displayName||e.name||"Component",a=tl(e),o=Object.keys(t),i=o.map(er);a||!r.length||Ct(!1);var s=function(c){Mi(d,c);function d(){for(var p,v=arguments.length,m=new Array(v),h=0;h<v;h++)m[h]=arguments[h];p=c.call.apply(c,[this].concat(m))||this,p.handlers=Object.create(null),o.forEach(function(x){var S=t[x],b=function(_){if(p.props[S]){var A;p._notifying=!0;for(var R=arguments.length,O=new Array(R>1?R-1:0),F=1;F<R;F++)O[F-1]=arguments[F];(A=p.props)[S].apply(A,[_].concat(O)),p._notifying=!1}p.unmounted||p.setState(function(N){var L,H=N.values;return{values:pe(Object.create(null),H,(L={},L[x]=_,L))}})};p.handlers[S]=b}),r.length&&(p.attachRef=function(x){p.inner=x});var y=Object.create(null);return o.forEach(function(x){y[x]=p.props[er(x)]}),p.state={values:y,prevProps:{}},p}var f=d.prototype;return f.shouldComponentUpdate=function(){return!this._notifying},d.getDerivedStateFromProps=function(v,m){var h=m.values,y=m.prevProps,x={values:pe(Object.create(null),h),prevProps:{}};return o.forEach(function(S){x.prevProps[S]=v[S],!Rn(v,S)&&Rn(y,S)&&(x.values[S]=v[er(S)])}),x},f.componentWillUnmount=function(){this.unmounted=!0},f.render=function(){var v=this,m=this.props,h=m.innerRef,y=mt(m,["innerRef"]);i.forEach(function(S){delete y[S]});var x={};return o.forEach(function(S){var b=v.props[S];x[S]=b!==void 0?b:v.state.values[S]}),D.createElement(e,pe({},y,x,this.handlers,{ref:h||this.attachRef}))},d}(D.Component);rl(s),s.displayName="Uncontrolled("+n+")",s.propTypes=pe({innerRef:function(){}},el(t)),r.forEach(function(c){s.prototype[c]=function(){var f;return(f=this.inner)[c].apply(f,arguments)}});var l=s;return D.forwardRef&&(l=D.forwardRef(function(c,d){return D.createElement(s,pe({},c,{innerRef:d,__source:{fileName:nl,lineNumber:128},__self:this}))}),l.propTypes=s.propTypes),l.ControlledComponent=e,l.deferControlTo=function(c,d,f){return d===void 0&&(d={}),co(c,pe({},t,d),f)},l}function uo(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=uo(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function ye(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=uo(e))&&(n&&(n+=" "),n+=t);return n}var ir="milliseconds",Pt="seconds",Ot="minutes",Tt="hours",it="day",ht="week",$t="month",st="year",lt="decade",ct="century",fo={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},al={month:1,year:12,decade:10*12,century:100*12};function ol(e){return[31,il(e),31,30,31,30,31,31,30,31,30,31]}function il(e){return e%4===0&&e%100!==0||e%400===0?29:28}function Le(e,t,r){switch(e=new Date(e),r){case ir:case Pt:case Ot:case Tt:case it:case ht:return sl(e,t*fo[r]);case $t:case st:case lt:case ct:return ll(e,t*al[r])}throw new TypeError('Invalid units: "'+r+'"')}function sl(e,t){var r=new Date(+e+t);return cl(e,r)}function ll(e,t){var r=e.getFullYear(),n=e.getMonth(),a=e.getDate(),o=r*12+n+t,i=Math.trunc(o/12),s=o%12,l=Math.min(a,ol(i)[s]),c=new Date(e);return c.setFullYear(i),c.setDate(1),c.setMonth(s),c.setDate(l),c}function cl(e,t){var r=e.getTimezoneOffset(),n=t.getTimezoneOffset(),a=n-r;return new Date(+t+a*fo.minutes)}function At(e,t,r){return Le(e,-t,r)}function Ee(e,t,r){switch(e=new Date(e),t){case ct:case lt:case st:e=lr(e,0);case $t:e=go(e,1);case ht:case it:e=jt(e,0);case Tt:e=vt(e,0);case Ot:e=Rt(e,0);case Pt:e=Mt(e,0)}return t===lt&&(e=At(e,ut(e)%10,"year")),t===ct&&(e=At(e,ut(e)%100,"year")),t===ht&&(e=yo(e,0,r)),e}function sr(e,t,r){switch(e=new Date(e),e=Ee(e,t,r),t){case ct:case lt:case st:case $t:case ht:e=Le(e,1,t),e=At(e,1,it),e.setHours(23,59,59,999);break;case it:e.setHours(23,59,59,999);break;case Tt:case Ot:case Pt:e=Le(e,1,t),e=At(e,1,ir)}return e}var Lt=bt(function(e,t){return e===t}),cn=bt(function(e,t){return e!==t}),br=bt(function(e,t){return e>t}),Ft=bt(function(e,t){return e>=t}),un=bt(function(e,t){return e<t}),yt=bt(function(e,t){return e<=t});function po(){return new Date(Math.min.apply(Math,arguments))}function ho(){return new Date(Math.max.apply(Math,arguments))}function vo(e,t,r,n){return n=n||"day",(!t||Ft(e,t,n))&&(!r||yt(e,r,n))}var Mt=et("Milliseconds"),Rt=et("Seconds"),vt=et("Minutes"),jt=et("Hours"),mo=et("Day"),go=et("Date"),lr=et("Month"),ut=et("FullYear");function ul(e,t){return t===void 0?ut(Ee(e,lt)):Le(e,t+10,st)}function dl(e,t){return t===void 0?ut(Ee(e,ct)):Le(e,t+100,st)}function yo(e,t,r){var n=(mo(e)+7-(r||0))%7;return t===void 0?n:Le(e,t-n,it)}function fl(e,t,r,n){var a,o,i;switch(r){case ir:case Pt:case Ot:case Tt:case it:case ht:a=t.getTime()-e.getTime();break;case $t:case st:case lt:case ct:a=(ut(t)-ut(e))*12+lr(t)-lr(e);break;default:throw new TypeError('Invalid units: "'+r+'"')}switch(r){case ir:o=1;break;case Pt:o=1e3;break;case Ot:o=1e3*60;break;case Tt:o=1e3*60*60;break;case it:o=1e3*60*60*24;break;case ht:o=1e3*60*60*24*7;break;case $t:o=1;break;case st:o=12;break;case lt:o=120;break;case ct:o=1200;break;default:throw new TypeError('Invalid units: "'+r+'"')}return i=a/o,n?i:Math.round(i)}function et(e){var t=function(r){switch(r){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(e);return function(r,n){if(n===void 0)return r["get"+e]();var a=new Date(r);return a["set"+e](n),t&&a["get"+e]()!=n&&(e==="Hours"||n>=t&&a.getHours()-r.getHours()<Math.floor(n/t))&&a["set"+e](n+t),a}}function bt(e){return function(t,r,n){return e(+Ee(t,n),+Ee(r,n))}}const jn=Object.freeze(Object.defineProperty({__proto__:null,add:Le,century:dl,date:go,day:mo,decade:ul,diff:fl,endOf:sr,eq:Lt,gt:br,gte:Ft,hours:jt,inRange:vo,lt:un,lte:yt,max:ho,milliseconds:Mt,min:po,minutes:vt,month:lr,neq:cn,seconds:Rt,startOf:Ee,subtract:At,weekday:yo,year:ut},Symbol.toStringTag,{value:"Module"}));function pl(e){if(Array.isArray(e))return Ur(e)}function bo(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hl(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tr(e){return pl(e)||bo(e)||ln(e)||hl()}function vl(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(a);++n<a;)o[n]=e[n+t];return o}var wo=vl,ml=/\s/;function gl(e){for(var t=e.length;t--&&ml.test(e.charAt(t)););return t}var yl=gl,bl=yl,wl=/^\s+/;function Sl(e){return e&&e.slice(0,bl(e)+1).replace(wl,"")}var xl=Sl,El=qa,Dl=fr,_l="[object Symbol]";function Cl(e){return typeof e=="symbol"||Dl(e)&&El(e)==_l}var zt=Cl,Pl=xl,kn=pr,Ol=zt,In=0/0,Tl=/^[-+]0x[0-9a-f]+$/i,$l=/^0b[01]+$/i,Al=/^0o[0-7]+$/i,Ml=parseInt;function Rl(e){if(typeof e=="number")return e;if(Ol(e))return In;if(kn(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=kn(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Pl(e);var r=$l.test(e);return r||Al.test(e)?Ml(e.slice(2),r?2:8):Tl.test(e)?In:+e}var jl=Rl,kl=jl,Nn=1/0,Il=17976931348623157e292;function Nl(e){if(!e)return e===0?e:0;if(e=kl(e),e===Nn||e===-Nn){var t=e<0?-1:1;return t*Il}return e===e?e:0}var So=Nl,Ll=So;function Fl(e){var t=Ll(e),r=t%1;return t===t?r?t-r:t:0}var xo=Fl,zl=wo,Wl=hr,Hl=xo,Ul=Math.ceil,Bl=Math.max;function ql(e,t,r){(r?Wl(e,t,r):t===void 0)?t=1:t=Bl(Hl(t),0);var n=e==null?0:e.length;if(!n||t<1)return[];for(var a=0,o=0,i=Array(Ul(n/t));a<n;)i[o++]=zl(e,a,a+=t);return i}var Yl=ql;const Kl=Fe(Yl);function Wt(e){return e&&e.ownerDocument||document}function Gl(e){var t=Wt(e);return t&&t.defaultView||window}function Vl(e,t){return Gl(e).getComputedStyle(e,t)}var Xl=/([A-Z])/g;function Ql(e){return e.replace(Xl,"-$1").toLowerCase()}var Zl=/^ms-/;function Yt(e){return Ql(e).replace(Zl,"-ms-")}var Jl=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function ec(e){return!!(e&&Jl.test(e))}function ft(e,t){var r="",n="";if(typeof t=="string")return e.style.getPropertyValue(Yt(t))||Vl(e).getPropertyValue(Yt(t));Object.keys(t).forEach(function(a){var o=t[a];!o&&o!==0?e.style.removeProperty(Yt(a)):ec(a)?n+=a+"("+o+") ":r+=Yt(a)+": "+o+";"}),n&&(r+="transform: "+n+";"),e.style.cssText+=";"+r}function kt(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}function tc(e){return"nodeType"in e&&e.nodeType===document.DOCUMENT_NODE}function dn(e){return"window"in e&&e.window===e?e:tc(e)&&e.defaultView||!1}function Eo(e){var t=e==="pageXOffset"?"scrollLeft":"scrollTop";function r(n,a){var o=dn(n);if(a===void 0)return o?o[e]:n[t];o?o.scrollTo(o[e],a):n[t]=a}return r}const Do=Eo("pageXOffset"),_o=Eo("pageYOffset");function at(e){var t=Wt(e),r={top:0,left:0,height:0,width:0},n=t&&t.documentElement;return!n||!kt(n,e)||(e.getBoundingClientRect!==void 0&&(r=e.getBoundingClientRect()),r={top:r.top+_o(n)-(n.clientTop||0),left:r.left+Do(n)-(n.clientLeft||0),width:r.width,height:r.height}),r}var rc=function(t){return!!t&&"offsetParent"in t};function nc(e){for(var t=Wt(e),r=e&&e.offsetParent;rc(r)&&r.nodeName!=="HTML"&&ft(r,"position")==="static";)r=r.offsetParent;return r||t.documentElement}var ac=function(t){return t.nodeName&&t.nodeName.toLowerCase()};function Co(e,t){var r={top:0,left:0},n;if(ft(e,"position")==="fixed")n=e.getBoundingClientRect();else{var a=t||nc(e);n=at(e),ac(a)!=="html"&&(r=at(a));var o=String(ft(a,"borderTopWidth")||0);r.top+=parseInt(o,10)-_o(a)||0;var i=String(ft(a,"borderLeftWidth")||0);r.left+=parseInt(i,10)-Do(a)||0}var s=String(ft(e,"marginTop")||0),l=String(ft(e,"marginLeft")||0);return pe({},n,{top:n.top-r.top-(parseInt(s,10)||0),left:n.left-r.left-(parseInt(l,10)||0)})}const fn=!!(typeof window<"u"&&window.document&&window.document.createElement);var Ln=new Date().getTime();function oc(e){var t=new Date().getTime(),r=Math.max(0,16-(t-Ln)),n=setTimeout(e,r);return Ln=t,n}var ic=["","webkit","moz","o","ms"],Br="clearTimeout",qr=oc,Fn=function(t,r){return t+(t?r[0].toUpperCase()+r.substr(1):r)+"AnimationFrame"};fn&&ic.some(function(e){var t=Fn(e,"request");return t in window&&(Br=Fn(e,"cancel"),qr=function(n){return window[t](n)}),!!qr});var zn=function(t){typeof window[Br]=="function"&&window[Br](t)},Po=qr,Mr;function sc(e,t){if(!Mr){var r=document.body,n=r.matches||r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector;Mr=function(o,i){return n.call(o,i)}}return Mr(e,t)}var lc=Function.prototype.bind.call(Function.prototype.call,[].slice);function cc(e,t){return lc(e.querySelectorAll(t))}var Yr=!1,Kr=!1;try{var Rr={get passive(){return Yr=!0},get once(){return Kr=Yr=!0}};fn&&(window.addEventListener("test",Rr,Rr),window.removeEventListener("test",Rr,!0))}catch{}function uc(e,t,r,n){if(n&&typeof n!="boolean"&&!Kr){var a=n.once,o=n.capture,i=r;!Kr&&a&&(i=r.__once||function s(l){this.removeEventListener(t,s,o),r.call(this,l)},r.__once=i),e.addEventListener(t,i,Yr?n:o)}e.addEventListener(t,r,n)}function dc(e){const t=W.useRef(e);return W.useEffect(()=>{t.current=e},[e]),t}function Wn(e){const t=dc(e);return W.useCallback(function(...r){return t.current&&t.current(...r)},[t])}function Hn(){return W.useState(null)}function fc(){const e=W.useRef(!0),t=W.useRef(()=>e.current);return W.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function pc(e){const t=fc();return[e[0],W.useCallback(r=>{if(t())return e[1](r)},[t,e[1]])]}var hc=Ri({defaultModifiers:[ji,ki,Ii,Ni,Li,Fi,zi,Wi]}),Un=function(t){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},vc={name:"applyStyles",enabled:!1},mc={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(t){var r=t.state;return function(){var n=r.elements,a=n.reference,o=n.popper;if("removeAttribute"in a){var i=(a.getAttribute("aria-describedby")||"").split(",").filter(function(s){return s.trim()!==o.id});i.length?a.setAttribute("aria-describedby",i.join(",")):a.removeAttribute("aria-describedby")}}},fn:function(t){var r,n=t.state,a=n.elements,o=a.popper,i=a.reference,s=(r=o.getAttribute("role"))==null?void 0:r.toLowerCase();if(o.id&&s==="tooltip"&&"setAttribute"in i){var l=i.getAttribute("aria-describedby");if(l&&l.split(",").indexOf(o.id)!==-1)return;i.setAttribute("aria-describedby",l?l+","+o.id:o.id)}}},gc=[];function yc(e,t,r){var n=r===void 0?{}:r,a=n.enabled,o=a===void 0?!0:a,i=n.placement,s=i===void 0?"bottom":i,l=n.strategy,c=l===void 0?"absolute":l,d=n.modifiers,f=d===void 0?gc:d,p=mt(n,["enabled","placement","strategy","modifiers"]),v=W.useRef(),m=W.useCallback(function(){var g;(g=v.current)==null||g.update()},[]),h=W.useCallback(function(){var g;(g=v.current)==null||g.forceUpdate()},[]),y=pc(W.useState({placement:s,update:m,forceUpdate:h,attributes:{},styles:{popper:Un(c),arrow:{}}})),x=y[0],S=y[1],b=W.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(_){var A=_.state,R={},O={};Object.keys(A.elements).forEach(function(F){R[F]=A.styles[F],O[F]=A.attributes[F]}),S({state:A,styles:R,attributes:O,update:m,forceUpdate:h,placement:A.placement})}}},[m,h,S]);return W.useEffect(function(){!v.current||!o||v.current.setOptions({placement:s,strategy:c,modifiers:[].concat(f,[b,vc])})},[c,s,b,o]),W.useEffect(function(){if(!(!o||e==null||t==null))return v.current=hc(e,t,pe({},p,{placement:s,strategy:c,modifiers:[].concat(f,[mc,b])})),function(){v.current!=null&&(v.current.destroy(),v.current=void 0,S(function(g){return pe({},g,{attributes:{},styles:{popper:Un(c)}})}))}},[o,e,t]),x}function bc(e,t,r,n){var a=n&&typeof n!="boolean"?n.capture:n;e.removeEventListener(t,r,a),r.__once&&e.removeEventListener(t,r.__once,a)}function _t(e,t,r,n){return uc(e,t,r,n),function(){bc(e,t,r,n)}}var wc=function(){},Sc=wc;const xc=Fe(Sc);function Ec(e){return e&&"setState"in e?Wa.findDOMNode(e):e??null}const Dc=function(e){return Wt(Ec(e))};var _c=27,Bn=function(){};function Cc(e){return e.button===0}function Pc(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var qn=function(t){return t&&("current"in t?t.current:t)};function Oc(e,t,r){var n=r===void 0?{}:r,a=n.disabled,o=n.clickTrigger,i=o===void 0?"click":o,s=W.useRef(!1),l=t||Bn,c=W.useCallback(function(p){var v,m=qn(e);xc(!!m,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),s.current=!m||Pc(p)||!Cc(p)||!!kt(m,(v=p.composedPath==null?void 0:p.composedPath()[0])!=null?v:p.target)},[e]),d=Wn(function(p){s.current||l(p)}),f=Wn(function(p){p.keyCode===_c&&l(p)});W.useEffect(function(){if(!(a||e==null)){var p=window.event,v=Dc(qn(e)),m=_t(v,i,c,!0),h=_t(v,i,function(S){if(S===p){p=void 0;return}d(S)}),y=_t(v,"keyup",function(S){if(S===p){p=void 0;return}f(S)}),x=[];return"ontouchstart"in v.documentElement&&(x=[].slice.call(v.body.children).map(function(S){return _t(S,"mousemove",Bn)})),function(){m(),h(),y(),x.forEach(function(S){return S()})}}},[e,a,i,c,d,f])}function Tc(e){var t={};return Array.isArray(e)?(e==null||e.forEach(function(r){t[r.name]=r}),t):e||t}function $c(e){return e===void 0&&(e={}),Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t].name=t,e[t]})}function Ac(e){var t,r,n,a,o=e.enabled,i=e.enableEvents,s=e.placement,l=e.flip,c=e.offset,d=e.fixed,f=e.containerPadding,p=e.arrowElement,v=e.popperConfig,m=v===void 0?{}:v,h=Tc(m.modifiers);return pe({},m,{placement:s,enabled:o,strategy:d?"fixed":m.strategy,modifiers:$c(pe({},h,{eventListeners:{enabled:i},preventOverflow:pe({},h.preventOverflow,{options:f?pe({padding:f},(t=h.preventOverflow)==null?void 0:t.options):(r=h.preventOverflow)==null?void 0:r.options}),offset:{options:pe({offset:c},(n=h.offset)==null?void 0:n.options)},arrow:pe({},h.arrow,{enabled:!!p,options:pe({},(a=h.arrow)==null?void 0:a.options,{element:p})}),flip:pe({enabled:!!l},h.flip)}))})}var Kt;function Oo(e){if((!Kt&&Kt!==0||e)&&fn){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),Kt=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Kt}var jr=function(t){var r;return typeof document>"u"?null:t==null?Wt().body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),(r=t)!=null&&r.nodeType&&t||null)};function Yn(e,t){var r=W.useState(function(){return jr(e)}),n=r[0],a=r[1];if(!n){var o=jr(e);o&&a(o)}return W.useEffect(function(){t&&n&&t(n)},[t,n]),W.useEffect(function(){var i=jr(e);i!==n&&a(i)},[e,n]),n}const Kn=e=>!e||typeof e=="function"?e:t=>{e.current=t};function Mc(e,t){const r=Kn(e),n=Kn(t);return a=>{r&&r(a),n&&n(a)}}function Rc(e,t){return W.useMemo(()=>Mc(e,t),[e,t])}var pn=D.forwardRef(function(e,t){var r=e.flip,n=e.offset,a=e.placement,o=e.containerPadding,i=o===void 0?5:o,s=e.popperConfig,l=s===void 0?{}:s,c=e.transition,d=Hn(),f=d[0],p=d[1],v=Hn(),m=v[0],h=v[1],y=Rc(p,t),x=Yn(e.container),S=Yn(e.target),b=W.useState(!e.show),g=b[0],_=b[1],A=yc(S,f,Ac({placement:a,enableEvents:!!e.show,containerPadding:i||5,flip:r,offset:n,arrowElement:m,popperConfig:l})),R=A.styles,O=A.attributes,F=mt(A,["styles","attributes"]);e.show?g&&_(!1):!e.transition&&!g&&_(!0);var N=function(){_(!0),e.onExited&&e.onExited.apply(e,arguments)},L=e.show||c&&!g;if(Oc(f,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!L)return null;var H=e.children(pe({},F,{show:!!e.show,props:pe({},O.popper,{style:R.popper,ref:y}),arrowProps:pe({},O.arrow,{style:R.arrow,ref:h})}));if(c){var U=e.onExit,Y=e.onExiting,ee=e.onEnter,re=e.onEntering,se=e.onEntered;H=D.createElement(c,{in:e.show,appear:!0,onExit:U,onExiting:Y,onExited:N,onEnter:ee,onEntering:re,onEntered:se},H)}return x?Wa.createPortal(H,x):null});pn.displayName="Overlay";pn.propTypes={show:k.bool,placement:k.oneOf(Hi),target:k.any,container:k.any,flip:k.bool,children:k.func.isRequired,containerPadding:k.number,popperConfig:k.object,rootClose:k.bool,rootCloseEvent:k.oneOf(["click","mousedown"]),rootCloseDisabled:k.bool,onHide:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];if(t.rootClose){var o;return(o=k.func).isRequired.apply(o,[t].concat(n))}return k.func.apply(k,[t].concat(n))},transition:k.elementType,onEnter:k.func,onEntering:k.func,onEntered:k.func,onExit:k.func,onExiting:k.func,onExited:k.func};const jc=pn;var kc="__lodash_hash_undefined__";function Ic(e){return this.__data__.set(e,kc),this}var Nc=Ic;function Lc(e){return this.__data__.has(e)}var Fc=Lc,zc=Ya,Wc=Nc,Hc=Fc;function cr(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new zc;++t<r;)this.add(e[t])}cr.prototype.add=cr.prototype.push=Wc;cr.prototype.has=Hc;var Uc=cr;function Bc(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var qc=Bc;function Yc(e,t){return e.has(t)}var Kc=Yc,Gc=Uc,Vc=qc,Xc=Kc,Qc=1,Zc=2;function Jc(e,t,r,n,a,o){var i=r&Qc,s=e.length,l=t.length;if(s!=l&&!(i&&l>s))return!1;var c=o.get(e),d=o.get(t);if(c&&d)return c==t&&d==e;var f=-1,p=!0,v=r&Zc?new Gc:void 0;for(o.set(e,t),o.set(t,e);++f<s;){var m=e[f],h=t[f];if(n)var y=i?n(h,m,f,t,e,o):n(m,h,f,e,t,o);if(y!==void 0){if(y)continue;p=!1;break}if(v){if(!Vc(t,function(x,S){if(!Xc(v,S)&&(m===x||a(m,x,r,n,o)))return v.push(S)})){p=!1;break}}else if(!(m===h||a(m,h,r,n,o))){p=!1;break}}return o.delete(e),o.delete(t),p}var To=Jc;function eu(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var tu=eu;function ru(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var nu=ru,Gn=vr,Vn=ds,au=Ka,ou=To,iu=tu,su=nu,lu=1,cu=2,uu="[object Boolean]",du="[object Date]",fu="[object Error]",pu="[object Map]",hu="[object Number]",vu="[object RegExp]",mu="[object Set]",gu="[object String]",yu="[object Symbol]",bu="[object ArrayBuffer]",wu="[object DataView]",Xn=Gn?Gn.prototype:void 0,kr=Xn?Xn.valueOf:void 0;function Su(e,t,r,n,a,o,i){switch(r){case wu:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case bu:return!(e.byteLength!=t.byteLength||!o(new Vn(e),new Vn(t)));case uu:case du:case hu:return au(+e,+t);case fu:return e.name==t.name&&e.message==t.message;case vu:case gu:return e==t+"";case pu:var s=iu;case mu:var l=n&lu;if(s||(s=su),e.size!=t.size&&!l)return!1;var c=i.get(e);if(c)return c==t;n|=cu,i.set(e,t);var d=ou(s(e),s(t),n,a,o,i);return i.delete(e),d;case yu:if(kr)return kr.call(e)==kr.call(t)}return!1}var xu=Su;function Eu(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var hn=Eu,Du=hn,_u=ze;function Cu(e,t,r){var n=t(e);return _u(e)?n:Du(n,r(e))}var $o=Cu;function Pu(e,t){for(var r=-1,n=e==null?0:e.length,a=0,o=[];++r<n;){var i=e[r];t(i,r,e)&&(o[a++]=i)}return o}var Ou=Pu;function Tu(){return[]}var Ao=Tu,$u=Ou,Au=Ao,Mu=Object.prototype,Ru=Mu.propertyIsEnumerable,Qn=Object.getOwnPropertySymbols,ju=Qn?function(e){return e==null?[]:(e=Object(e),$u(Qn(e),function(t){return Ru.call(e,t)}))}:Au,vn=ju,ku=fs,Iu=ku(Object.keys,Object),Nu=Iu,Lu=ps,Fu=Nu,zu=Object.prototype,Wu=zu.hasOwnProperty;function Hu(e){if(!Lu(e))return Fu(e);var t=[];for(var r in Object(e))Wu.call(e,r)&&r!="constructor"&&t.push(r);return t}var Uu=Hu,Bu=hs,qu=Uu,Yu=nn;function Ku(e){return Yu(e)?Bu(e):qu(e)}var Ht=Ku,Gu=$o,Vu=vn,Xu=Ht;function Qu(e){return Gu(e,Xu,Vu)}var Mo=Qu,Zn=Mo,Zu=1,Ju=Object.prototype,ed=Ju.hasOwnProperty;function td(e,t,r,n,a,o){var i=r&Zu,s=Zn(e),l=s.length,c=Zn(t),d=c.length;if(l!=d&&!i)return!1;for(var f=l;f--;){var p=s[f];if(!(i?p in t:ed.call(t,p)))return!1}var v=o.get(e),m=o.get(t);if(v&&m)return v==t&&m==e;var h=!0;o.set(e,t),o.set(t,e);for(var y=i;++f<l;){p=s[f];var x=e[p],S=t[p];if(n)var b=i?n(S,x,p,t,e,o):n(x,S,p,e,t,o);if(!(b===void 0?x===S||a(x,S,r,n,o):b)){h=!1;break}y||(y=p=="constructor")}if(h&&!y){var g=e.constructor,_=t.constructor;g!=_&&"constructor"in e&&"constructor"in t&&!(typeof g=="function"&&g instanceof g&&typeof _=="function"&&_ instanceof _)&&(h=!1)}return o.delete(e),o.delete(t),h}var rd=td,nd=mr,ad=gr,od=nd(ad,"DataView"),id=od,sd=mr,ld=gr,cd=sd(ld,"Promise"),ud=cd,dd=mr,fd=gr,pd=dd(fd,"Set"),hd=pd,vd=mr,md=gr,gd=vd(md,"WeakMap"),yd=gd,Gr=id,Vr=vs,Xr=ud,Qr=hd,Zr=yd,Ro=qa,wt=ms,Jn="[object Map]",bd="[object Object]",ea="[object Promise]",ta="[object Set]",ra="[object WeakMap]",na="[object DataView]",wd=wt(Gr),Sd=wt(Vr),xd=wt(Xr),Ed=wt(Qr),Dd=wt(Zr),rt=Ro;(Gr&&rt(new Gr(new ArrayBuffer(1)))!=na||Vr&&rt(new Vr)!=Jn||Xr&&rt(Xr.resolve())!=ea||Qr&&rt(new Qr)!=ta||Zr&&rt(new Zr)!=ra)&&(rt=function(e){var t=Ro(e),r=t==bd?e.constructor:void 0,n=r?wt(r):"";if(n)switch(n){case wd:return na;case Sd:return Jn;case xd:return ea;case Ed:return ta;case Dd:return ra}return t});var wr=rt,Ir=an,_d=To,Cd=xu,Pd=rd,aa=wr,oa=ze,ia=on,Od=Ga,Td=1,sa="[object Arguments]",la="[object Array]",Gt="[object Object]",$d=Object.prototype,ca=$d.hasOwnProperty;function Ad(e,t,r,n,a,o){var i=oa(e),s=oa(t),l=i?la:aa(e),c=s?la:aa(t);l=l==sa?Gt:l,c=c==sa?Gt:c;var d=l==Gt,f=c==Gt,p=l==c;if(p&&ia(e)){if(!ia(t))return!1;i=!0,d=!1}if(p&&!d)return o||(o=new Ir),i||Od(e)?_d(e,t,r,n,a,o):Cd(e,t,l,r,n,a,o);if(!(r&Td)){var v=d&&ca.call(e,"__wrapped__"),m=f&&ca.call(t,"__wrapped__");if(v||m){var h=v?e.value():e,y=m?t.value():t;return o||(o=new Ir),a(h,y,r,n,o)}}return p?(o||(o=new Ir),Pd(e,t,r,n,a,o)):!1}var Md=Ad,Rd=Md,ua=fr;function jo(e,t,r,n,a){return e===t?!0:e==null||t==null||!ua(e)&&!ua(t)?e!==e&&t!==t:Rd(e,t,r,n,jo,a)}var mn=jo,jd=mn;function kd(e,t){return jd(e,t)}var Id=kd;const Nd=Fe(Id);function Nr(e,t){var r=dn(e);return r?r.innerHeight:t?e.clientHeight:at(e).height}function ko(e,t,r){e.closest&&!r&&e.closest(t);var n=e;do{if(sc(n,t))return n;n=n.parentElement}while(n&&n!==r&&n.nodeType===document.ELEMENT_NODE);return null}function Ld(e,t,r,n){for(var a=e.length,o=r+(n?1:-1);n?o--:++o<a;)if(t(e[o],o,e))return o;return-1}var Fd=Ld,zd=an,Wd=mn,Hd=1,Ud=2;function Bd(e,t,r,n){var a=r.length,o=a,i=!n;if(e==null)return!o;for(e=Object(e);a--;){var s=r[a];if(i&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<o;){s=r[a];var l=s[0],c=e[l],d=s[1];if(i&&s[2]){if(c===void 0&&!(l in e))return!1}else{var f=new zd;if(n)var p=n(c,d,l,e,t,f);if(!(p===void 0?Wd(d,c,Hd|Ud,n,f):p))return!1}}return!0}var qd=Bd,Yd=pr;function Kd(e){return e===e&&!Yd(e)}var Io=Kd,Gd=Io,Vd=Ht;function Xd(e){for(var t=Vd(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,Gd(a)]}return t}var Qd=Xd;function Zd(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var No=Zd,Jd=qd,ef=Qd,tf=No;function rf(e){var t=ef(e);return t.length==1&&t[0][2]?tf(t[0][0],t[0][1]):function(r){return r===e||Jd(r,e,t)}}var nf=rf,af=ze,of=zt,sf=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,lf=/^\w*$/;function cf(e,t){if(af(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||of(e)?!0:lf.test(e)||!sf.test(e)||t!=null&&e in Object(t)}var gn=cf,Lo=Ya,uf="Expected a function";function yn(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(uf);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var i=e.apply(this,n);return r.cache=o.set(a,i)||o,i};return r.cache=new(yn.Cache||Lo),r}yn.Cache=Lo;var df=yn,ff=df,pf=500;function hf(e){var t=ff(e,function(n){return r.size===pf&&r.clear(),n}),r=t.cache;return t}var vf=hf,mf=vf,gf=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,yf=/\\(\\)?/g,bf=mf(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(gf,function(r,n,a,o){t.push(a?o.replace(yf,"$1"):n||r)}),t}),wf=bf;function Sf(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var bn=Sf,da=vr,xf=bn,Ef=ze,Df=zt,_f=1/0,fa=da?da.prototype:void 0,pa=fa?fa.toString:void 0;function Fo(e){if(typeof e=="string")return e;if(Ef(e))return xf(e,Fo)+"";if(Df(e))return pa?pa.call(e):"";var t=e+"";return t=="0"&&1/e==-_f?"-0":t}var Cf=Fo,Pf=Cf;function Of(e){return e==null?"":Pf(e)}var Tf=Of,$f=ze,Af=gn,Mf=wf,Rf=Tf;function jf(e,t){return $f(e)?e:Af(e,t)?[e]:Mf(Rf(e))}var Sr=jf,kf=zt,If=1/0;function Nf(e){if(typeof e=="string"||kf(e))return e;var t=e+"";return t=="0"&&1/e==-If?"-0":t}var Ut=Nf,Lf=Sr,Ff=Ut;function zf(e,t){t=Lf(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Ff(t[r++])];return r&&r==n?e:void 0}var xr=zf,Wf=xr;function Hf(e,t,r){var n=e==null?void 0:Wf(e,t);return n===void 0?r:n}var Uf=Hf;function Bf(e,t){return e!=null&&t in Object(e)}var qf=Bf,Yf=Sr,Kf=Va,Gf=ze,Vf=gs,Xf=ys,Qf=Ut;function Zf(e,t,r){t=Yf(t,e);for(var n=-1,a=t.length,o=!1;++n<a;){var i=Qf(t[n]);if(!(o=e!=null&&r(e,i)))break;e=e[i]}return o||++n!=a?o:(a=e==null?0:e.length,!!a&&Xf(a)&&Vf(i,a)&&(Gf(e)||Kf(e)))}var Jf=Zf,ep=qf,tp=Jf;function rp(e,t){return e!=null&&tp(e,t,ep)}var np=rp,ap=mn,op=Uf,ip=np,sp=gn,lp=Io,cp=No,up=Ut,dp=1,fp=2;function pp(e,t){return sp(e)&&lp(t)?cp(up(e),t):function(r){var n=op(r,e);return n===void 0&&n===t?ip(r,e):ap(t,n,dp|fp)}}var hp=pp;function vp(e){return function(t){return t==null?void 0:t[e]}}var mp=vp,gp=xr;function yp(e){return function(t){return gp(t,e)}}var bp=yp,wp=mp,Sp=bp,xp=gn,Ep=Ut;function Dp(e){return xp(e)?wp(Ep(e)):Sp(e)}var _p=Dp,Cp=nf,Pp=hp,Op=Xa,Tp=ze,$p=_p;function Ap(e){return typeof e=="function"?e:e==null?Op:typeof e=="object"?Tp(e)?Pp(e[0],e[1]):Cp(e):$p(e)}var Er=Ap,Mp=Fd,Rp=Er,jp=xo,kp=Math.max;function Ip(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:jp(r);return a<0&&(a=kp(n+a,0)),Mp(e,Rp(t),a)}var Np=Ip;const Lp=Fe(Np);var Fp=Math.ceil,zp=Math.max;function Wp(e,t,r,n){for(var a=-1,o=zp(Fp((t-e)/(r||1)),0),i=Array(o);o--;)i[n?o:++a]=e,e+=r;return i}var Hp=Wp,Up=Hp,Bp=hr,Lr=So;function qp(e){return function(t,r,n){return n&&typeof n!="number"&&Bp(t,r,n)&&(r=n=void 0),t=Lr(t),r===void 0?(r=t,t=0):r=Lr(r),n=n===void 0?t<r?1:-1:Lr(n),Up(t,r,n,e)}}var Yp=qp,Kp=Yp,Gp=Kp(),Vp=Gp;const Xp=Fe(Vp);var ha=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Qp(e,t){return!!(e===t||ha(e)&&ha(t))}function Zp(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!Qp(e[r],t[r]))return!1;return!0}function zo(e,t){t===void 0&&(t=Zp);var r=null;function n(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];if(r&&r.lastThis===this&&t(a,r.lastArgs))return r.lastResult;var i=e.apply(this,a);return r={lastResult:i,lastArgs:a,lastThis:this},i}return n.clear=function(){r=null},n}var va=vr,Jp=Va,eh=ze,ma=va?va.isConcatSpreadable:void 0;function th(e){return eh(e)||Jp(e)||!!(ma&&e&&e[ma])}var rh=th,nh=hn,ah=rh;function Wo(e,t,r,n,a){var o=-1,i=e.length;for(r||(r=ah),a||(a=[]);++o<i;){var s=e[o];t>0&&r(s)?t>1?Wo(s,t-1,r,n,a):nh(a,s):n||(a[a.length]=s)}return a}var Ho=Wo,oh=bs,ih=Ht;function sh(e,t){return e&&oh(e,t,ih)}var wn=sh,lh=nn;function ch(e,t){return function(r,n){if(r==null)return r;if(!lh(r))return e(r,n);for(var a=r.length,o=t?a:-1,i=Object(r);(t?o--:++o<a)&&n(i[o],o,i)!==!1;);return r}}var uh=ch,dh=wn,fh=uh,ph=fh(dh),hh=ph,vh=hh,mh=nn;function gh(e,t){var r=-1,n=mh(e)?Array(e.length):[];return vh(e,function(a,o,i){n[++r]=t(a,o,i)}),n}var yh=gh;function bh(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var wh=bh,ga=zt;function Sh(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,o=ga(e),i=t!==void 0,s=t===null,l=t===t,c=ga(t);if(!s&&!c&&!o&&e>t||o&&i&&l&&!s&&!c||n&&i&&l||!r&&l||!a)return 1;if(!n&&!o&&!c&&e<t||c&&r&&a&&!n&&!o||s&&r&&a||!i&&a||!l)return-1}return 0}var xh=Sh,Eh=xh;function Dh(e,t,r){for(var n=-1,a=e.criteria,o=t.criteria,i=a.length,s=r.length;++n<i;){var l=Eh(a[n],o[n]);if(l){if(n>=s)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return e.index-t.index}var _h=Dh,Fr=bn,Ch=xr,Ph=Er,Oh=yh,Th=wh,$h=sn,Ah=_h,Mh=Xa,Rh=ze;function jh(e,t,r){t.length?t=Fr(t,function(o){return Rh(o)?function(i){return Ch(i,o.length===1?o[0]:o)}:o}):t=[Mh];var n=-1;t=Fr(t,$h(Ph));var a=Oh(e,function(o,i,s){var l=Fr(t,function(c){return c(o)});return{criteria:l,index:++n,value:o}});return Th(a,function(o,i){return Ah(o,i,r)})}var kh=jh,Ih=Ho,Nh=kh,Lh=Qa,ya=hr,Fh=Lh(function(e,t){if(e==null)return[];var r=t.length;return r>1&&ya(e,t[0],t[1])?t=[]:r>2&&ya(t[0],t[1],t[2])&&(t=[t[0]]),Nh(e,Ih(t,1),[])}),zh=Fh;const Wh=Fe(zh);function Jr(e,t){var r=dn(e);return r?r.innerWidth:t?e.clientWidth:at(e).width}function Uo(e){return ao(e)||bo(e)||ln(e)||oo()}function Hh(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var Bo=Hh,Uh=Nt,Bh=Ht;function qh(e,t){return e&&Uh(t,Bh(t),e)}var Yh=qh,Kh=Nt,Gh=yr;function Vh(e,t){return e&&Kh(t,Gh(t),e)}var Xh=Vh,Qh=Nt,Zh=vn;function Jh(e,t){return Qh(e,Zh(e),t)}var ev=Jh,tv=hn,rv=Za,nv=vn,av=Ao,ov=Object.getOwnPropertySymbols,iv=ov?function(e){for(var t=[];e;)tv(t,nv(e)),e=rv(e);return t}:av,qo=iv,sv=Nt,lv=qo;function cv(e,t){return sv(e,lv(e),t)}var uv=cv,dv=$o,fv=qo,pv=yr;function hv(e){return dv(e,pv,fv)}var Yo=hv,vv=Object.prototype,mv=vv.hasOwnProperty;function gv(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&mv.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var yv=gv,bv=Ja;function wv(e,t){var r=t?bv(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var Sv=wv,xv=/\w*$/;function Ev(e){var t=new e.constructor(e.source,xv.exec(e));return t.lastIndex=e.lastIndex,t}var Dv=Ev,ba=vr,wa=ba?ba.prototype:void 0,Sa=wa?wa.valueOf:void 0;function _v(e){return Sa?Object(Sa.call(e)):{}}var Cv=_v,Pv=Ja,Ov=Sv,Tv=Dv,$v=Cv,Av=ws,Mv="[object Boolean]",Rv="[object Date]",jv="[object Map]",kv="[object Number]",Iv="[object RegExp]",Nv="[object Set]",Lv="[object String]",Fv="[object Symbol]",zv="[object ArrayBuffer]",Wv="[object DataView]",Hv="[object Float32Array]",Uv="[object Float64Array]",Bv="[object Int8Array]",qv="[object Int16Array]",Yv="[object Int32Array]",Kv="[object Uint8Array]",Gv="[object Uint8ClampedArray]",Vv="[object Uint16Array]",Xv="[object Uint32Array]";function Qv(e,t,r){var n=e.constructor;switch(t){case zv:return Pv(e);case Mv:case Rv:return new n(+e);case Wv:return Ov(e,r);case Hv:case Uv:case Bv:case qv:case Yv:case Kv:case Gv:case Vv:case Xv:return Av(e,r);case jv:return new n;case kv:case Lv:return new n(e);case Iv:return Tv(e);case Nv:return new n;case Fv:return $v(e)}}var Zv=Qv,Jv=wr,em=fr,tm="[object Map]";function rm(e){return em(e)&&Jv(e)==tm}var nm=rm,am=nm,om=sn,xa=eo,Ea=xa&&xa.isMap,im=Ea?om(Ea):am,sm=im,lm=wr,cm=fr,um="[object Set]";function dm(e){return cm(e)&&lm(e)==um}var fm=dm,pm=fm,hm=sn,Da=eo,_a=Da&&Da.isSet,vm=_a?hm(_a):pm,mm=vm,gm=an,ym=Bo,bm=Ss,wm=Yh,Sm=Xh,xm=xs,Em=Es,Dm=ev,_m=uv,Cm=Mo,Pm=Yo,Om=wr,Tm=yv,$m=Zv,Am=Ds,Mm=ze,Rm=on,jm=sm,km=pr,Im=mm,Nm=Ht,Lm=yr,Fm=1,zm=2,Wm=4,Ko="[object Arguments]",Hm="[object Array]",Um="[object Boolean]",Bm="[object Date]",qm="[object Error]",Go="[object Function]",Ym="[object GeneratorFunction]",Km="[object Map]",Gm="[object Number]",Vo="[object Object]",Vm="[object RegExp]",Xm="[object Set]",Qm="[object String]",Zm="[object Symbol]",Jm="[object WeakMap]",eg="[object ArrayBuffer]",tg="[object DataView]",rg="[object Float32Array]",ng="[object Float64Array]",ag="[object Int8Array]",og="[object Int16Array]",ig="[object Int32Array]",sg="[object Uint8Array]",lg="[object Uint8ClampedArray]",cg="[object Uint16Array]",ug="[object Uint32Array]",ue={};ue[Ko]=ue[Hm]=ue[eg]=ue[tg]=ue[Um]=ue[Bm]=ue[rg]=ue[ng]=ue[ag]=ue[og]=ue[ig]=ue[Km]=ue[Gm]=ue[Vo]=ue[Vm]=ue[Xm]=ue[Qm]=ue[Zm]=ue[sg]=ue[lg]=ue[cg]=ue[ug]=!0;ue[qm]=ue[Go]=ue[Jm]=!1;function rr(e,t,r,n,a,o){var i,s=t&Fm,l=t&zm,c=t&Wm;if(r&&(i=a?r(e,n,a,o):r(e)),i!==void 0)return i;if(!km(e))return e;var d=Mm(e);if(d){if(i=Tm(e),!s)return Em(e,i)}else{var f=Om(e),p=f==Go||f==Ym;if(Rm(e))return xm(e,s);if(f==Vo||f==Ko||p&&!a){if(i=l||p?{}:Am(e),!s)return l?_m(e,Sm(i,e)):Dm(e,wm(i,e))}else{if(!ue[f])return a?e:{};i=$m(e,f,s)}}o||(o=new gm);var v=o.get(e);if(v)return v;o.set(e,i),Im(e)?e.forEach(function(y){i.add(rr(y,t,r,y,e,o))}):jm(e)&&e.forEach(function(y,x){i.set(x,rr(y,t,r,x,e,o))});var m=c?l?Pm:Cm:l?Lm:Nm,h=d?void 0:m(e);return ym(h||e,function(y,x){h&&(x=y,y=e[x]),bm(i,x,rr(y,t,r,x,e,o))}),i}var dg=rr;function fg(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var pg=fg,hg=xr,vg=wo;function mg(e,t){return t.length<2?e:hg(e,vg(t,0,-1))}var gg=mg,yg=Sr,bg=pg,wg=gg,Sg=Ut;function xg(e,t){return t=yg(t,e),e=wg(e,t),e==null||delete e[Sg(bg(t))]}var Eg=xg,Dg=_s;function _g(e){return Dg(e)?void 0:e}var Cg=_g,Pg=Ho;function Og(e){var t=e==null?0:e.length;return t?Pg(e,1):[]}var Tg=Og,$g=Tg,Ag=Cs,Mg=Ps;function Rg(e){return Mg(Ag(e,void 0,$g),e+"")}var jg=Rg,kg=bn,Ig=dg,Ng=Eg,Lg=Sr,Fg=Nt,zg=Cg,Wg=jg,Hg=Yo,Ug=1,Bg=2,qg=4,Yg=Wg(function(e,t){var r={};if(e==null)return r;var n=!1;t=kg(t,function(o){return o=Lg(o,e),n||(n=o.length>1),o}),Fg(e,Hg(e),r),n&&(r=Ig(r,Ug|Bg|qg,zg));for(var a=t.length;a--;)Ng(r,t[a]);return r}),Kg=Yg;const Gg=Fe(Kg);var Vg=Qa,Xg=Ka,Qg=hr,Zg=yr,Xo=Object.prototype,Jg=Xo.hasOwnProperty,ey=Vg(function(e,t){e=Object(e);var r=-1,n=t.length,a=n>2?t[2]:void 0;for(a&&Qg(t[0],t[1],a)&&(n=1);++r<n;)for(var o=t[r],i=Zg(o),s=-1,l=i.length;++s<l;){var c=i[s],d=e[c];(d===void 0||Xg(d,Xo[c])&&!Jg.call(e,c))&&(e[c]=o[c])}return e}),ty=ey;const ry=Fe(ty);var ny=Bo,ay=Os,oy=wn,iy=Er,sy=Za,ly=ze,cy=on,uy=Ts,dy=pr,fy=Ga;function py(e,t,r){var n=ly(e),a=n||cy(e)||fy(e);if(t=iy(t),r==null){var o=e&&e.constructor;a?r=n?new o:[]:dy(e)?r=uy(o)?ay(sy(e)):{}:r={}}return(a?ny:oy)(e,function(i,s,l){return t(r,i,s,l)}),r}var hy=py;const vy=Fe(hy);var my=$s,gy=wn,yy=Er;function by(e,t){var r={};return t=yy(t),gy(e,function(n,a,o){my(r,a,t(n,a,o))}),r}var wy=by;const Sy=Fe(wy);var xy={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(gt,function(){return function(r,n){n.prototype.isSameOrAfter=function(a,o){return this.isSame(a,o)||this.isAfter(a,o)}}})})(xy);var Ey={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(gt,function(){return function(r,n){n.prototype.isSameOrBefore=function(a,o){return this.isSame(a,o)||this.isBefore(a,o)}}})})(Ey);var Dy={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(gt,function(){return function(r,n,a){var o=n.prototype,i=function(f){return f&&(f.indexOf?f:f.s)},s=function(f,p,v,m,h){var y=f.name?f:f.$locale(),x=i(y[p]),S=i(y[v]),b=x||S.map(function(_){return _.slice(0,m)});if(!h)return b;var g=y.weekStart;return b.map(function(_,A){return b[(A+(g||0))%7]})},l=function(){return a.Ls[a.locale()]},c=function(f,p){return f.formats[p]||function(v){return v.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(m,h,y){return h||y.slice(1)})}(f.formats[p.toUpperCase()])},d=function(){var f=this;return{months:function(p){return p?p.format("MMMM"):s(f,"months")},monthsShort:function(p){return p?p.format("MMM"):s(f,"monthsShort","months",3)},firstDayOfWeek:function(){return f.$locale().weekStart||0},weekdays:function(p){return p?p.format("dddd"):s(f,"weekdays")},weekdaysMin:function(p){return p?p.format("dd"):s(f,"weekdaysMin","weekdays",2)},weekdaysShort:function(p){return p?p.format("ddd"):s(f,"weekdaysShort","weekdays",3)},longDateFormat:function(p){return c(f.$locale(),p)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};o.localeData=function(){return d.bind(this)()},a.localeData=function(){var f=l();return{firstDayOfWeek:function(){return f.weekStart||0},weekdays:function(){return a.weekdays()},weekdaysShort:function(){return a.weekdaysShort()},weekdaysMin:function(){return a.weekdaysMin()},months:function(){return a.months()},monthsShort:function(){return a.monthsShort()},longDateFormat:function(p){return c(f,p)},meridiem:f.meridiem,ordinal:f.ordinal}},a.months=function(){return s(l(),"months")},a.monthsShort=function(){return s(l(),"monthsShort","months",3)},a.weekdays=function(f){return s(l(),"weekdays",null,null,f)},a.weekdaysShort=function(f){return s(l(),"weekdaysShort","weekdays",3,f)},a.weekdaysMin=function(f){return s(l(),"weekdaysMin","weekdays",2,f)}}})})(Dy);var _y={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(gt,function(){return function(r,n,a){var o=function(i,s){if(!s||!s.length||s.length===1&&!s[0]||s.length===1&&Array.isArray(s[0])&&!s[0].length)return null;var l;s.length===1&&s[0].length>0&&(s=s[0]),l=(s=s.filter(function(d){return d}))[0];for(var c=1;c<s.length;c+=1)s[c].isValid()&&!s[c][i](l)||(l=s[c]);return l};a.max=function(){var i=[].slice.call(arguments,0);return o("isAfter",i)},a.min=function(){var i=[].slice.call(arguments,0);return o("isBefore",i)}}})})(_y);var Cy={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(gt,function(){var r="minute",n=/[+-]\d\d(?::?\d\d)?/g,a=/([+-]|\d\d)/g;return function(o,i,s){var l=i.prototype;s.utc=function(h){var y={date:h,utc:!0,args:arguments};return new i(y)},l.utc=function(h){var y=s(this.toDate(),{locale:this.$L,utc:!0});return h?y.add(this.utcOffset(),r):y},l.local=function(){return s(this.toDate(),{locale:this.$L,utc:!1})};var c=l.parse;l.parse=function(h){h.utc&&(this.$u=!0),this.$utils().u(h.$offset)||(this.$offset=h.$offset),c.call(this,h)};var d=l.init;l.init=function(){if(this.$u){var h=this.$d;this.$y=h.getUTCFullYear(),this.$M=h.getUTCMonth(),this.$D=h.getUTCDate(),this.$W=h.getUTCDay(),this.$H=h.getUTCHours(),this.$m=h.getUTCMinutes(),this.$s=h.getUTCSeconds(),this.$ms=h.getUTCMilliseconds()}else d.call(this)};var f=l.utcOffset;l.utcOffset=function(h,y){var x=this.$utils().u;if(x(h))return this.$u?0:x(this.$offset)?f.call(this):this.$offset;if(typeof h=="string"&&(h=function(_){_===void 0&&(_="");var A=_.match(n);if(!A)return null;var R=(""+A[0]).match(a)||["-",0,0],O=R[0],F=60*+R[1]+ +R[2];return F===0?0:O==="+"?F:-F}(h),h===null))return this;var S=Math.abs(h)<=16?60*h:h,b=this;if(y)return b.$offset=S,b.$u=h===0,b;if(h!==0){var g=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(b=this.local().add(S+g,r)).$offset=S,b.$x.$localOffset=g}else b=this.utc();return b};var p=l.format;l.format=function(h){var y=h||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return p.call(this,y)},l.valueOf=function(){var h=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*h},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var v=l.toDate;l.toDate=function(h){return h==="s"&&this.$offset?s(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():v.call(this)};var m=l.diff;l.diff=function(h,y,x){if(h&&this.$u===h.$u)return m.call(this,h,y,x);var S=this.local(),b=s(h).local();return m.call(S,b,y,x)}}})})(Cy);function Ye(e){return e.children}var Me={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},Pe={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},Ca=Object.keys(Pe).map(function(e){return Pe[e]});k.oneOfType([k.string,k.func]);k.any;k.func;k.oneOfType([k.arrayOf(k.oneOf(Ca)),k.objectOf(function(e,t){var r=Ca.indexOf(t)!==-1&&typeof e[t]=="boolean";if(r)return null;for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];return k.elementType.apply(k,[e,t].concat(a))})]);k.oneOfType([k.oneOf(["overlap","no-overlap"]),k.func]);function fe(e,t){e&&e.apply(null,[].concat(t))}var Pa={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function Qo(e,t){var r=Ee(e,"month");return Ee(r,"week",t.startOfWeek())}function Zo(e,t){var r=sr(e,"month");return sr(r,"week",t.startOfWeek())}function Py(e,t){for(var r=Qo(e,t),n=Zo(e,t),a=[];yt(r,n,"day");)a.push(r),r=Le(r,1,"day");return a}function Oy(e,t){var r=Ee(e,t);return Lt(r,e)?r:Le(r,1,t)}function Ty(e,t){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",n=e,a=[];yt(n,t,r);)a.push(n),n=Le(n,1,r);return a}function $y(e,t){return t==null&&e==null?null:(t==null&&(t=new Date),e==null&&(e=new Date),e=Ee(e,"day"),e=jt(e,jt(t)),e=vt(e,vt(t)),e=Rt(e,Rt(t)),Mt(e,Mt(t)))}function Oa(e){return jt(e)===0&&vt(e)===0&&Rt(e)===0&&Mt(e)===0}function Ay(e,t,r,n){return r==="day"&&(r="date"),Math.abs(jn[r](e,void 0,n)-jn[r](t,void 0,n))}function Sn(e,t,r){return!r||r==="milliseconds"?Math.abs(+e-+t):Math.round(Math.abs(+Ee(e,r)/Pa[r]-+Ee(t,r)/Pa[r]))}var My=k.oneOfType([k.string,k.func]);function Ry(e,t,r,n,a){var o=typeof n=="function"?n(r,a,e):t.call(e,r,n,a);return Ct(o==null||typeof o=="string","`localizer format(..)` must return a string, null, or undefined"),o}function jy(e,t,r){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,t+r,0,0)}function xn(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()}function ky(e,t){return Sn(e,t,"minutes")+xn(e,t)}function Iy(e){var t=Ee(e,"day");return Sn(t,e,"minutes")+xn(t,e)}function Ny(e,t){return un(e,t,"day")}function Ly(e,t,r){var n=Lt(e,t,"minutes");return n?Ft(t,r,"minutes"):br(t,r,"minutes")}function en(e,t){return Ay(e,t,"day")}function Fy(e){var t=e.evtA,r=t.start,n=t.end,a=t.allDay,o=e.evtB,i=o.start,s=o.end,l=o.allDay,c=+Ee(r,"day")-+Ee(i,"day"),d=en(r,n),f=en(i,s);return c||f-d||!!l-!!a||+r-+i||+n-+s}function zy(e){var t=e.event,r=t.start,n=t.end,a=e.range,o=a.start,i=a.end,s=Ee(r,"day"),l=yt(s,i,"day"),c=cn(s,n,"minutes"),d=c?br(n,o,"minutes"):Ft(n,o,"minutes");return l&&d}function Wy(e,t){return Lt(e,t,"day")}function Hy(e,t){return Oa(e)&&Oa(t)}var Uy=xe(function e(t){var r=this;Se(this,e),Ct(typeof t.format=="function","date localizer `format(..)` must be a function"),Ct(typeof t.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||My,this.formats=t.formats,this.format=function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return Ry.apply(void 0,[r,t.format].concat(a))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||$y,this.inRange=t.inRange||vo,this.lt=t.lt||un,this.lte=t.lte||yt,this.gt=t.gt||br,this.gte=t.gte||Ft,this.eq=t.eq||Lt,this.neq=t.neq||cn,this.startOf=t.startOf||Ee,this.endOf=t.endOf||sr,this.add=t.add||Le,this.range=t.range||Ty,this.diff=t.diff||Sn,this.ceil=t.ceil||Oy,this.min=t.min||po,this.max=t.max||ho,this.minutes=t.minutes||vt,this.daySpan=t.daySpan||en,this.firstVisibleDay=t.firstVisibleDay||Qo,this.lastVisibleDay=t.lastVisibleDay||Zo,this.visibleDays=t.visibleDays||Py,this.getSlotDate=t.getSlotDate||jy,this.getTimezoneOffset=t.getTimezoneOffset||function(n){return n.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||xn,this.getTotalMin=t.getTotalMin||ky,this.getMinutesFromMidnight=t.getMinutesFromMidnight||Iy,this.continuesPrior=t.continuesPrior||Ny,this.continuesAfter=t.continuesAfter||Ly,this.sortEvents=t.sortEvents||Fy,this.inEventRange=t.inEventRange||zy,this.isSameDate=t.isSameDate||Wy,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||Hy,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0});function By(e,t,r,n){var a=ce(ce({},e.formats),r);return ce(ce({},e),{},{messages:n,startOfWeek:function(){return e.startOfWeek(t)},format:function(i,s){return e.format(i,a[s]||s,t)}})}var qy={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(t){return"+".concat(t," more")}};function Yy(e){return ce(ce({},qy),e)}function Ky(e){var t=e.ref,r=e.callback;W.useEffect(function(){var n=function(o){t.current&&!t.current.contains(o.target)&&r()};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}},[t,r])}var Gy=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],Jo=function(e){function t(){return Se(this,t),Te(this,t,arguments)}return Oe(t,e),xe(t,[{key:"render",value:function(){var n=this.props,a=n.style,o=n.className,i=n.event,s=n.selected,l=n.isAllDay,c=n.onSelect,d=n.onDoubleClick,f=n.onKeyPress,p=n.localizer,v=n.continuesPrior,m=n.continuesAfter,h=n.accessors,y=n.getters,x=n.children,S=n.components,b=S.event,g=S.eventWrapper,_=n.slotStart,A=n.slotEnd,R=Ue(n,Gy);delete R.resizable;var O=h.title(i),F=h.tooltip(i),N=h.end(i),L=h.start(i),H=h.allDay(i),U=l||H||p.diff(L,p.ceil(N,"day"),"day")>1,Y=y.eventProp(i,L,N,s),ee=D.createElement("div",{className:"rbc-event-content",title:F||void 0},b?D.createElement(b,{event:i,continuesPrior:v,continuesAfter:m,title:O,isAllDay:H,localizer:p,slotStart:_,slotEnd:A}):O);return D.createElement(g,Object.assign({},this.props,{type:"date"}),D.createElement("div",Object.assign({},R,{style:ce(ce({},Y.style),a),className:ye("rbc-event",o,Y.className,{"rbc-selected":s,"rbc-event-allday":U,"rbc-event-continues-prior":v,"rbc-event-continues-after":m}),onClick:function(se){return c&&c(i,se)},onDoubleClick:function(se){return d&&d(i,se)},onKeyDown:function(se){return f&&f(i,se)}}),typeof x=="function"?x(ee):ee))}}])}(D.Component);function Dr(e,t){return!e||t==null?!1:Nd(e,t)}function ei(e,t){var r=e.right-e.left,n=r/t;return n}function ti(e,t,r,n){var a=ei(e,n);return r?n-1-Math.floor((t-e.left)/a):Math.floor((t-e.left)/a)}function Vy(e,t){var r=t.x,n=t.y;return n>=e.top&&n<=e.bottom&&r>=e.left&&r<=e.right}function Xy(e,t,r,n,a){var o=-1,i=-1,s=n-1,l=ei(t,n),c=ti(t,r.x,a,n),d=t.top<r.y&&t.bottom>r.y,f=t.top<e.y&&t.bottom>e.y,p=e.y>t.bottom,v=t.top>e.y,m=r.top<t.top&&r.bottom>t.bottom;return m&&(o=0,i=s),d&&(v?(o=0,i=c):p&&(o=c,i=s)),f&&(o=i=a?s-Math.floor((e.x-t.left)/l):Math.floor((e.x-t.left)/l),d?c<o?o=c:i=c:e.y<r.y?i=s:o=0),{startIdx:o,endIdx:i}}function Qy(e){var t=e.target,r=e.offset,n=e.container,a=e.box,o=at(t),i=o.top,s=o.left,l=o.width,c=o.height,d=at(n),f=d.top,p=d.left,v=d.width,m=d.height,h=at(a),y=h.width,x=h.height,S=f+m,b=p+v,g=i+x,_=s+y,A=r.x,R=r.y,O=g>S?i-x-R:i+R+c,F=_>b?s+A-y+l:s+A;return{topOffset:O,leftOffset:F}}function Zy(e){var t=e.containerRef,r=e.accessors,n=e.getters,a=e.selected,o=e.components,i=e.localizer,s=e.position,l=e.show,c=e.events,d=e.slotStart,f=e.slotEnd,p=e.onSelect,v=e.onDoubleClick,m=e.onKeyPress,h=e.handleDragStart,y=e.popperRef,x=e.target,S=e.offset;Ky({ref:y,callback:l}),W.useLayoutEffect(function(){var _=Qy({target:x,offset:S,container:t.current,box:y.current}),A=_.topOffset,R=_.leftOffset;y.current.style.top="".concat(A,"px"),y.current.style.left="".concat(R,"px")},[S.x,S.y,x]);var b=s.width,g={minWidth:b+b/2};return D.createElement("div",{style:g,className:"rbc-overlay",ref:y},D.createElement("div",{className:"rbc-overlay-header"},i.format(d,"dayHeaderFormat")),c.map(function(_,A){return D.createElement(Jo,{key:A,type:"popup",localizer:i,event:_,getters:n,onSelect:p,accessors:r,components:o,onDoubleClick:v,onKeyPress:m,continuesPrior:i.lt(r.end(_),d,"day"),continuesAfter:i.gte(r.start(_),f,"day"),slotStart:d,slotEnd:f,selected:Dr(_,a),draggable:!0,onDragStart:function(){return h(_)},onDragEnd:function(){return l()}})}))}var ri=D.forwardRef(function(e,t){return D.createElement(Zy,Object.assign({},e,{popperRef:t}))});ri.propTypes={accessors:k.object.isRequired,getters:k.object.isRequired,selected:k.object,components:k.object.isRequired,localizer:k.object.isRequired,position:k.object.isRequired,show:k.func.isRequired,events:k.array.isRequired,slotStart:k.instanceOf(Date).isRequired,slotEnd:k.instanceOf(Date),onSelect:k.func,onDoubleClick:k.func,onKeyPress:k.func,handleDragStart:k.func,style:k.object,offset:k.shape({x:k.number,y:k.number})};function Jy(e){var t=e.containerRef,r=e.popupOffset,n=r===void 0?5:r,a=e.overlay,o=e.accessors,i=e.localizer,s=e.components,l=e.getters,c=e.selected,d=e.handleSelectEvent,f=e.handleDoubleClickEvent,p=e.handleKeyPressEvent,v=e.handleDragStart,m=e.onHide,h=e.overlayDisplay,y=W.useRef(null);if(!a.position)return null;var x=n;isNaN(n)||(x={x:n,y:n});var S=a.position,b=a.events,g=a.date,_=a.end;return D.createElement(jc,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:m,target:a.target},function(A){var R=A.props;return D.createElement(ri,Object.assign({},R,{containerRef:t,ref:y,target:a.target,offset:x,accessors:o,getters:l,selected:c,components:s,localizer:i,position:S,show:h,events:b,slotStart:g,slotEnd:_,onSelect:d,onDoubleClick:f,onKeyPress:p,handleDragStart:v}))})}var En=D.forwardRef(function(e,t){return D.createElement(Jy,Object.assign({},e,{containerRef:t}))});En.propTypes={popupOffset:k.oneOfType([k.number,k.shape({x:k.number,y:k.number})]),overlay:k.shape({position:k.object,events:k.array,date:k.instanceOf(Date),end:k.instanceOf(Date)}),accessors:k.object.isRequired,localizer:k.object.isRequired,components:k.object.isRequired,getters:k.object.isRequired,selected:k.object,handleSelectEvent:k.func,handleDoubleClickEvent:k.func,handleKeyPressEvent:k.func,handleDragStart:k.func,onHide:k.func,overlayDisplay:k.func};function De(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return _t(r,e,t,{passive:!1})}function eb(e,t,r){return!e||kt(e,document.elementFromPoint(t,r))}function tb(e,t){var r=t.clientX,n=t.clientY,a=document.elementFromPoint(r,n);return ko(a,".rbc-event",e)}function rb(e,t){var r=t.clientX,n=t.clientY,a=document.elementFromPoint(r,n);return ko(a,".rbc-show-more",e)}function ur(e,t){return!!tb(e,t)}function nb(e,t){return!!rb(e,t)}function Et(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}var Ta=5,ab=250,ni=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.global,a=n===void 0?!1:n,o=r.longPressThreshold,i=o===void 0?250:o,s=r.validContainers,l=s===void 0?[]:s;Se(this,e),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=t,this.globalMouse=!t||a,this.longPressThreshold=i,this.validContainers=l,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=De("touchmove",function(){},window),this._removeKeyDownListener=De("keydown",this._keyListener),this._removeKeyUpListener=De("keyup",this._keyListener),this._removeDropFromOutsideListener=De("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=De("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return xe(e,[{key:"on",value:function(r,n){var a=this._listeners[r]||(this._listeners[r]=[]);return a.push(n),{remove:function(){var i=a.indexOf(n);i!==-1&&a.splice(i,1)}}}},{key:"emit",value:function(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];var i,s=this._listeners[r]||[];return s.forEach(function(l){i===void 0&&(i=l.apply(void 0,a))}),i}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(r){var n=this._selectRect;return!n||!this.selecting?!1:$a(n,dt(r))}},{key:"filter",value:function(r){var n=this._selectRect;return!n||!this.selecting?[]:r.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(r,n){var a=this,o=null,i=null,s=null,l=function(p){o=setTimeout(function(){d(),r(p)},a.longPressThreshold),i=De("touchmove",function(){return d()}),s=De("touchend",function(){return d()})},c=De("touchstart",l),d=function(){o&&clearTimeout(o),i&&i(),s&&s(),o=null,i=null,s=null};return n&&l(n),function(){d(),c()}}},{key:"_addInitialEventListener",value:function(){var r=this,n=De("mousedown",function(o){r._removeInitialEventListener(),r._handleInitialEvent(o),r._removeInitialEventListener=De("mousedown",r._handleInitialEvent)}),a=De("touchstart",function(o){r._removeInitialEventListener(),r._removeInitialEventListener=r._addLongPressListener(r._handleInitialEvent,o)});this._removeInitialEventListener=function(){n(),a()}}},{key:"_dropFromOutsideListener",value:function(r){var n=Et(r),a=n.pageX,o=n.pageY,i=n.clientX,s=n.clientY;this.emit("dropFromOutside",{x:a,y:o,clientX:i,clientY:s}),r.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(r){var n=Et(r),a=n.pageX,o=n.pageY,i=n.clientX,s=n.clientY;this.emit("dragOverFromOutside",{x:a,y:o,clientX:i,clientY:s}),r.preventDefault()}},{key:"_handleInitialEvent",value:function(r){if(this._initialEvent=r,!this.isDetached){var n=Et(r),a=n.clientX,o=n.clientY,i=n.pageX,s=n.pageY,l=this.container(),c,d;if(!(r.which===3||r.button===2||!eb(l,a,o))){if(!this.globalMouse&&l&&!kt(l,r.target)){var f=ob(0),p=f.top,v=f.left,m=f.bottom,h=f.right;if(d=dt(l),c=$a({top:d.top-p,left:d.left-v,bottom:d.bottom+m,right:d.right+h},{top:s,left:i}),!c)return}var y=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(r.type),x:i,y:s,clientX:a,clientY:o});if(y!==!1)switch(r.type){case"mousedown":this._removeEndListener=De("mouseup",this._handleTerminatingEvent),this._onEscListener=De("keydown",this._handleTerminatingEvent),this._removeMoveListener=De("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(r),this._removeEndListener=De("touchend",this._handleTerminatingEvent),this._removeMoveListener=De("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(r){var n=r.target,a=this.validContainers;return!a||!a.length||!n?!0:a.some(function(o){return!!n.closest(o)})}},{key:"_handleTerminatingEvent",value:function(r){var n=this.selecting,a=this._selectRect;if(!n&&r.type.includes("key")&&(r=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!r){var o=!this.container||kt(this.container(),r.target),i=this._isWithinValidContainer(r);return r.key==="Escape"||!i?this.emit("reset"):!n&&o?this._handleClickEvent(r):n?this.emit("select",a):this.emit("reset")}}},{key:"_handleClickEvent",value:function(r){var n=Et(r),a=n.pageX,o=n.pageY,i=n.clientX,s=n.clientY,l=new Date().getTime();return this._lastClickData&&l-this._lastClickData.timestamp<ab?(this._lastClickData=null,this.emit("doubleClick",{x:a,y:o,clientX:i,clientY:s})):(this._lastClickData={timestamp:l},this.emit("click",{x:a,y:o,clientX:i,clientY:s}))}},{key:"_handleMoveEvent",value:function(r){if(!(this._initialEventData===null||this.isDetached)){var n=this._initialEventData,a=n.x,o=n.y,i=Et(r),s=i.pageX,l=i.pageY,c=Math.abs(a-s),d=Math.abs(o-l),f=Math.min(s,a),p=Math.min(l,o),v=this.selecting,m=this.isClick(s,l);m&&!v&&!(c||d)||(!v&&!m&&this.emit("selectStart",this._initialEventData),m||(this.selecting=!0,this._selectRect={top:p,left:f,x:s,y:l,right:f+c,bottom:p+d},this.emit("selecting",this._selectRect)),r.preventDefault())}}},{key:"_keyListener",value:function(r){this.ctrl=r.metaKey||r.ctrlKey}},{key:"isClick",value:function(r,n){var a=this._initialEventData,o=a.x,i=a.y,s=a.isTouch;return!s&&Math.abs(r-o)<=Ta&&Math.abs(n-i)<=Ta}}])}();function ob(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return ot(e)!=="object"&&(e={top:e,left:e,right:e,bottom:e}),e}function $a(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=dt(e),a=n.top,o=n.left,i=n.right,s=i===void 0?o:i,l=n.bottom,c=l===void 0?a:l,d=dt(t),f=d.top,p=d.left,v=d.right,m=v===void 0?p:v,h=d.bottom,y=h===void 0?f:h;return!(c-r<f||a+r>y||s-r<p||o+r>m)}function dt(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),r=t.left+Aa("left"),n=t.top+Aa("top");return{top:n,left:r,right:(e.offsetWidth||0)+r,bottom:(e.offsetHeight||0)+n}}function Aa(e){if(e==="left")return window.pageXOffset||document.body.scrollLeft||0;if(e==="top")return window.pageYOffset||document.body.scrollTop||0}var ib=function(e){function t(r,n){var a;return Se(this,t),a=Te(this,t,[r,n]),a.state={selecting:!1},a.containerRef=W.createRef(),a}return Oe(t,e),xe(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(n){!n.selectable&&this.props.selectable&&this._selectable(),n.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var n=this.props,a=n.range,o=n.getNow,i=n.getters,s=n.date,l=n.components.dateCellWrapper,c=n.localizer,d=this.state,f=d.selecting,p=d.startIdx,v=d.endIdx,m=o();return D.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},a.map(function(h,y){var x=f&&y>=p&&y<=v,S=i.dayProp(h),b=S.className,g=S.style;return D.createElement(l,{key:y,value:h,range:a},D.createElement("div",{style:g,className:ye("rbc-day-bg",b,x&&"rbc-selected-cell",c.isSameDate(h,m)&&"rbc-today",s&&c.neq(s,h,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var n=this,a=this.containerRef.current,o=this._selector=new ni(this.props.container,{longPressThreshold:this.props.longPressThreshold}),i=function(l,c){if(!ur(a,l)&&!nb(a,l)){var d=dt(a),f=n.props,p=f.range,v=f.rtl;if(Vy(d,l)){var m=ti(d,l.x,v,p.length);n._selectSlot({startIdx:m,endIdx:m,action:c,box:l})}}n._initial={},n.setState({selecting:!1})};o.on("selecting",function(s){var l=n.props,c=l.range,d=l.rtl,f=-1,p=-1;if(n.state.selecting||(fe(n.props.onSelectStart,[s]),n._initial={x:s.x,y:s.y}),o.isSelected(a)){var v=dt(a),m=Xy(n._initial,v,s,c.length,d);f=m.startIdx,p=m.endIdx}n.setState({selecting:!0,startIdx:f,endIdx:p})}),o.on("beforeSelect",function(s){if(n.props.selectable==="ignoreEvents")return!ur(n.containerRef.current,s)}),o.on("click",function(s){return i(s,"click")}),o.on("doubleClick",function(s){return i(s,"doubleClick")}),o.on("select",function(s){n._selectSlot(ce(ce({},n.state),{},{action:"select",bounds:s})),n._initial={},n.setState({selecting:!1}),fe(n.props.onSelectEnd,[n.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(n){var a=n.endIdx,o=n.startIdx,i=n.action,s=n.bounds,l=n.box;a!==-1&&o!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:o,end:a,action:i,bounds:s,box:l,resourceId:this.props.resourceId})}}])}(D.Component),He={propTypes:{slotMetrics:k.object.isRequired,selected:k.object,isAllDay:k.bool,accessors:k.object.isRequired,localizer:k.object.isRequired,components:k.object.isRequired,getters:k.object.isRequired,onSelect:k.func,onDoubleClick:k.func,onKeyPress:k.func},defaultProps:{segments:[],selected:{}},renderEvent:function(t,r){var n=t.selected;t.isAllDay;var a=t.accessors,o=t.getters,i=t.onSelect,s=t.onDoubleClick,l=t.onKeyPress,c=t.localizer,d=t.slotMetrics,f=t.components,p=t.resizable,v=d.continuesPrior(r),m=d.continuesAfter(r);return D.createElement(Jo,{event:r,getters:o,localizer:c,accessors:a,components:f,onSelect:i,onDoubleClick:s,onKeyPress:l,continuesPrior:v,continuesAfter:m,slotStart:d.first,slotEnd:d.last,selected:Dr(r,n),resizable:p})},renderSpan:function(t,r,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",o=Math.abs(r)/t*100+"%";return D.createElement("div",{key:n,className:"rbc-row-segment",style:{WebkitFlexBasis:o,flexBasis:o,maxWidth:o}},a)}},ai=function(e){function t(){return Se(this,t),Te(this,t,arguments)}return Oe(t,e),xe(t,[{key:"render",value:function(){var n=this,a=this.props,o=a.segments,i=a.slotMetrics.slots,s=a.className,l=1;return D.createElement("div",{className:ye(s,"rbc-row")},o.reduce(function(c,d,f){var p=d.event,v=d.left,m=d.right,h=d.span,y="_lvl_"+f,x=v-l,S=He.renderEvent(n.props,p);return x&&c.push(He.renderSpan(i,x,"".concat(y,"_gap"))),c.push(He.renderSpan(i,h,y,S)),l=m+1,c},[]))}}])}(D.Component);ai.defaultProps=ce({},He.defaultProps);function oi(e){var t=e.dateRange,r=e.unit,n=r===void 0?"day":r,a=e.localizer;return{first:t[0],last:a.add(t[t.length-1],1,n)}}function sb(e,t,r,n){var a=oi({dateRange:t,localizer:n}),o=a.first,i=a.last,s=n.diff(o,i,"day"),l=n.max(n.startOf(r.start(e),"day"),o),c=n.min(n.ceil(r.end(e),"day"),i),d=Lp(t,function(p){return n.isSameDate(p,l)}),f=n.diff(l,c,"day");return f=Math.min(f,s),f=Math.max(f-n.segmentOffset,1),{event:e,span:f,left:d+1,right:Math.max(d+f,1)}}function ii(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,r,n,a,o=[],i=[];for(r=0;r<e.length;r++){for(a=e[r],n=0;n<o.length&&lb(a,o[n]);n++);n>=t?i.push(a):(o[n]||(o[n]=[])).push(a)}for(r=0;r<o.length;r++)o[r].sort(function(s,l){return s.left-l.left});return{levels:o,extra:i}}function It(e,t,r,n,a){var o={start:n.start(e),end:n.end(e)},i={start:t,end:r};return a.inEventRange({event:o,range:i})}function lb(e,t){return t.some(function(r){return r.left<=e.right&&r.right>=e.left})}function cb(e,t,r){var n=tr(e),a=[],o=[];n.forEach(function(l){var c=t.start(l),d=t.end(l);r.daySpan(c,d)>1?a.push(l):o.push(l)});var i=a.sort(function(l,c){return tn(l,c,t,r)}),s=o.sort(function(l,c){return tn(l,c,t,r)});return[].concat(tr(i),tr(s))}function tn(e,t,r,n){var a={start:r.start(e),end:r.end(e),allDay:r.allDay(e)},o={start:r.start(t),end:r.end(t),allDay:r.allDay(t)};return n.sortEvents({evtA:a,evtB:o})}var si=function(t,r){return t.left<=r&&t.right>=r},Ma=function(t,r){return t.filter(function(n){return si(n,r)}).map(function(n){return n.event})},li=function(e){function t(){return Se(this,t),Te(this,t,arguments)}return Oe(t,e),xe(t,[{key:"render",value:function(){for(var n=this.props,a=n.segments,o=n.slotMetrics.slots,i=ii(a).levels[0],s=1,l=1,c=[];s<=o;){var d="_lvl_"+s,f=i.filter(function(S){return si(S,s)})[0]||{},p=f.event,v=f.left,m=f.right,h=f.span;if(!p){s++;continue}var y=Math.max(0,v-l);if(this.canRenderSlotEvent(v,h)){var x=He.renderEvent(this.props,p);y&&c.push(He.renderSpan(o,y,d+"_gap")),c.push(He.renderSpan(o,h,d,x)),l=s=m+1}else y&&c.push(He.renderSpan(o,y,d+"_gap")),c.push(He.renderSpan(o,1,d,this.renderShowMore(a,s))),l=s=s+1}return D.createElement("div",{className:"rbc-row"},c)}},{key:"canRenderSlotEvent",value:function(n,a){var o=this.props.segments;return Xp(n,n+a).every(function(i){var s=Ma(o,i).length;return s===1})}},{key:"renderShowMore",value:function(n,a){var o=this,i=this.props,s=i.localizer,l=i.slotMetrics,c=l.getEventsForSlot(a),d=Ma(n,a),f=d.length;return f?D.createElement("button",{type:"button",key:"sm_"+a,className:ye("rbc-button-link","rbc-show-more"),onClick:function(v){return o.showMore(a,v)}},s.messages.showMore(f,d,c)):!1}},{key:"showMore",value:function(n,a){a.preventDefault(),a.stopPropagation(),this.props.onShowMore(n,a.target)}}])}(D.Component);li.defaultProps=ce({},He.defaultProps);var ub=function(t){var r=t.children;return D.createElement("div",{className:"rbc-row-content-scroll-container"},r)},db=function(t,r){return t.left<=r&&t.right>=r},fb=function(t,r){return t[0].range===r[0].range&&t[0].events===r[0].events};function ci(){return zo(function(e){for(var t=e.range,r=e.events,n=e.maxRows,a=e.minRows,o=e.accessors,i=e.localizer,s=oi({dateRange:t,localizer:i}),l=s.first,c=s.last,d=r.map(function(h){return sb(h,t,o,i)}),f=ii(d,Math.max(n-1,1)),p=f.levels,v=f.extra,m=v.length>0?a-1:a;p.length<m;)p.push([]);return{first:l,last:c,levels:p,extra:v,range:t,slots:t.length,clone:function(y){var x=ci();return x(ce(ce({},e),y))},getDateForSlot:function(y){return t[y]},getSlotForDate:function(y){return t.find(function(x){return i.isSameDate(x,y)})},getEventsForSlot:function(y){return d.filter(function(x){return db(x,y)}).map(function(x){return x.event})},continuesPrior:function(y){return i.continuesPrior(o.start(y),l)},continuesAfter:function(y){var x=o.start(y),S=o.end(y);return i.continuesAfter(x,S,c)}}},fb)}var dr=function(e){function t(){var r;Se(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=Te(this,t,[].concat(a)),r.handleSelectSlot=function(i){var s=r.props,l=s.range,c=s.onSelectSlot;c(l.slice(i.start,i.end+1),i)},r.handleShowMore=function(i,s){var l=r.props,c=l.range,d=l.onShowMore,f=r.slotMetrics(r.props),p=cc(r.containerRef.current,".rbc-row-bg")[0],v;p&&(v=p.children[i-1]);var m=f.getEventsForSlot(i);d(m,c[i-1],v,i,s)},r.getContainer=function(){var i=r.props.container;return i?i():r.containerRef.current},r.renderHeadingCell=function(i,s){var l=r.props,c=l.renderHeader,d=l.getNow,f=l.localizer;return c({date:i,key:"header_".concat(s),className:ye("rbc-date-cell",f.isSameDate(i,d())&&"rbc-now")})},r.renderDummy=function(){var i=r.props,s=i.className,l=i.range,c=i.renderHeader,d=i.showAllEvents;return D.createElement("div",{className:s,ref:r.containerRef},D.createElement("div",{className:ye("rbc-row-content",d&&"rbc-row-content-scrollable")},c&&D.createElement("div",{className:"rbc-row",ref:r.headingRowRef},l.map(r.renderHeadingCell)),D.createElement("div",{className:"rbc-row",ref:r.eventRowRef},D.createElement("div",{className:"rbc-row-segment"},D.createElement("div",{className:"rbc-event"},D.createElement("div",{className:"rbc-event-content"},""))))))},r.containerRef=W.createRef(),r.headingRowRef=W.createRef(),r.eventRowRef=W.createRef(),r.slotMetrics=ci(),r}return Oe(t,e),xe(t,[{key:"getRowLimit",value:function(){var n,a=Nr(this.eventRowRef.current),o=(n=this.headingRowRef)!==null&&n!==void 0&&n.current?Nr(this.headingRowRef.current):0,i=Nr(this.containerRef.current)-o;return Math.max(Math.floor(i/a),1)}},{key:"render",value:function(){var n=this.props,a=n.date,o=n.rtl,i=n.range,s=n.className,l=n.selected,c=n.selectable,d=n.renderForMeasure,f=n.accessors,p=n.getters,v=n.components,m=n.getNow,h=n.renderHeader,y=n.onSelect,x=n.localizer,S=n.onSelectStart,b=n.onSelectEnd,g=n.onDoubleClick,_=n.onKeyPress,A=n.resourceId,R=n.longPressThreshold,O=n.isAllDay,F=n.resizable,N=n.showAllEvents;if(d)return this.renderDummy();var L=this.slotMetrics(this.props),H=L.levels,U=L.extra,Y=N?ub:Ye,ee=v.weekWrapper,re={selected:l,accessors:f,getters:p,localizer:x,components:v,onSelect:y,onDoubleClick:g,onKeyPress:_,resourceId:A,slotMetrics:L,resizable:F};return D.createElement("div",{className:s,role:"rowgroup",ref:this.containerRef},D.createElement(ib,{localizer:x,date:a,getNow:m,rtl:o,range:i,selectable:c,container:this.getContainer,getters:p,onSelectStart:S,onSelectEnd:b,onSelectSlot:this.handleSelectSlot,components:v,longPressThreshold:R,resourceId:A}),D.createElement("div",{className:ye("rbc-row-content",N&&"rbc-row-content-scrollable"),role:"row"},h&&D.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},i.map(this.renderHeadingCell)),D.createElement(Y,null,D.createElement(ee,Object.assign({isAllDay:O},re,{rtl:this.props.rtl}),H.map(function(se,Z){return D.createElement(ai,Object.assign({key:Z,segments:se},re))}),!!U.length&&D.createElement(li,Object.assign({segments:U,onShowMore:this.handleShowMore},re))))))}}])}(D.Component);dr.defaultProps={minRows:0,maxRows:1/0};var ui=function(t){var r=t.label;return D.createElement("span",{role:"columnheader","aria-sort":"none"},r)},pb=function(t){var r=t.label,n=t.drilldownView,a=t.onDrillDown;return n?D.createElement("button",{type:"button",className:"rbc-button-link",onClick:a,role:"cell"},r):D.createElement("span",null,r)},hb=["date","className"],vb=function(t,r,n,a,o){return t.filter(function(i){return It(i,r,n,a,o)})},_r=function(e){function t(){var r;Se(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=Te(this,t,[].concat(a)),r.getContainer=function(){return r.containerRef.current},r.renderWeek=function(i,s){var l=r.props,c=l.events,d=l.components,f=l.selectable,p=l.getNow,v=l.selected,m=l.date,h=l.localizer,y=l.longPressThreshold,x=l.accessors,S=l.getters,b=l.showAllEvents,g=r.state,_=g.needLimitMeasure,A=g.rowLimit,R=vb(tr(c),i[0],i[i.length-1],x,h),O=cb(R,x,h);return D.createElement(dr,{key:s,ref:s===0?r.slotRowRef:void 0,container:r.getContainer,className:"rbc-month-row",getNow:p,date:m,range:i,events:O,maxRows:b?1/0:A,selected:v,selectable:f,components:d,accessors:x,getters:S,localizer:h,renderHeader:r.readerDateHeading,renderForMeasure:_,onShowMore:r.handleShowMore,onSelect:r.handleSelectEvent,onDoubleClick:r.handleDoubleClickEvent,onKeyPress:r.handleKeyPressEvent,onSelectSlot:r.handleSelectSlot,longPressThreshold:y,rtl:r.props.rtl,resizable:r.props.resizable,showAllEvents:b})},r.readerDateHeading=function(i){var s=i.date,l=i.className,c=Ue(i,hb),d=r.props,f=d.date,p=d.getDrilldownView,v=d.localizer,m=v.neq(s,f,"month"),h=v.isSameDate(s,f),y=p(s),x=v.format(s,"dateFormat"),S=r.props.components.dateHeader||pb;return D.createElement("div",Object.assign({},c,{className:ye(l,m&&"rbc-off-range",h&&"rbc-current"),role:"cell"}),D.createElement(S,{label:x,date:s,drilldownView:y,isOffRange:m,onDrillDown:function(g){return r.handleHeadingClick(s,y,g)}}))},r.handleSelectSlot=function(i,s){r._pendingSelection=r._pendingSelection.concat(i),clearTimeout(r._selectTimer),r._selectTimer=setTimeout(function(){return r.selectDates(s)})},r.handleHeadingClick=function(i,s,l){l.preventDefault(),r.clearSelection(),fe(r.props.onDrillDown,[i,s])},r.handleSelectEvent=function(){r.clearSelection();for(var i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];fe(r.props.onSelectEvent,s)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];fe(r.props.onDoubleClickEvent,s)},r.handleKeyPressEvent=function(){r.clearSelection();for(var i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];fe(r.props.onKeyPressEvent,s)},r.handleShowMore=function(i,s,l,c,d){var f=r.props,p=f.popup,v=f.onDrillDown,m=f.onShowMore,h=f.getDrilldownView,y=f.doShowMoreDrillDown;if(r.clearSelection(),p){var x=Co(l,r.containerRef.current);r.setState({overlay:{date:s,events:i,position:x,target:d}})}else y&&fe(v,[s,h(s)||Pe.DAY]);fe(m,[i,s,c])},r.overlayDisplay=function(){r.setState({overlay:null})},r.state={rowLimit:5,needLimitMeasure:!0,date:null},r.containerRef=W.createRef(),r.slotRowRef=W.createRef(),r._bgRows=[],r._pendingSelection=[],r}return Oe(t,e),xe(t,[{key:"componentDidMount",value:function(){var n=this,a;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){a||Po(function(){a=!1,n.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var n=this.props,a=n.date,o=n.localizer,i=n.className,s=o.visibleDays(a,o),l=Kl(s,7);return this._weekCount=l.length,D.createElement("div",{className:ye("rbc-month-view",i),role:"table","aria-label":"Month View",ref:this.containerRef},D.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(l[0])),l.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(n){var a=this.props,o=a.localizer,i=a.components,s=n[0],l=n[n.length-1],c=i.header||ui;return o.range(s,l,"day").map(function(d,f){return D.createElement("div",{key:"header_"+f,className:"rbc-header"},D.createElement(c,{date:d,localizer:o,label:o.format(d,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var n,a,o=this,i=(n=(a=this.state)===null||a===void 0?void 0:a.overlay)!==null&&n!==void 0?n:{},s=this.props,l=s.accessors,c=s.localizer,d=s.components,f=s.getters,p=s.selected,v=s.popupOffset,m=s.handleDragStart,h=function(){return o.setState({overlay:null})};return D.createElement(En,{overlay:i,accessors:l,localizer:c,components:d,getters:f,selected:p,popupOffset:v,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:m,show:!!i.position,overlayDisplay:this.overlayDisplay,onHide:h})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(n){var a=this._pendingSelection.slice();this._pendingSelection=[],a.sort(function(s,l){return+s-+l});var o=new Date(a[0]),i=new Date(a[a.length-1]);i.setDate(a[a.length-1].getDate()+1),fe(this.props.onSelectSlot,{slots:a,start:o,end:i,action:n.action,bounds:n.bounds,box:n.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(n,a){var o=n.date,i=n.localizer;return{date:o,needLimitMeasure:i.neq(o,a.date,"month")}}}])}(D.Component);_r.range=function(e,t){var r=t.localizer,n=r.firstVisibleDay(e,r),a=r.lastVisibleDay(e,r);return{start:n,end:a}};_r.navigate=function(e,t,r){var n=r.localizer;switch(t){case Me.PREVIOUS:return n.add(e,-1,"month");case Me.NEXT:return n.add(e,1,"month");default:return e}};_r.title=function(e,t){var r=t.localizer;return r.format(e,"monthHeaderFormat")};var Ra=function(t){var r=t.min,n=t.max,a=t.step,o=t.slots,i=t.localizer;return"".concat(+i.startOf(r,"minutes"))+"".concat(+i.startOf(n,"minutes"))+"".concat(a,"-").concat(o)};function Dn(e){for(var t=e.min,r=e.max,n=e.step,a=e.timeslots,o=e.localizer,i=Ra({start:t,end:r,step:n,timeslots:a,localizer:o}),s=1+o.getTotalMin(t,r),l=o.getMinutesFromMidnight(t),c=Math.ceil((s-1)/(n*a)),d=c*a,f=new Array(c),p=new Array(d),v=0;v<c;v++){f[v]=new Array(a);for(var m=0;m<a;m++){var h=v*a+m,y=h*n;p[h]=f[v][m]=o.getSlotDate(t,l,y)}}var x=p.length*n;p.push(o.getSlotDate(t,l,x));function S(b){var g=o.diff(t,b,"minutes")+o.getDstOffset(t,b);return Math.min(g,s)}return{groups:f,update:function(g){return Ra(g)!==i?Dn(g):this},dateIsInGroup:function(g,_){var A=f[_+1];return o.inRange(g,f[_][0],A?A[0]:r,"minutes")},nextSlot:function(g){var _=p[Math.min(p.findIndex(function(A){return A===g||o.eq(A,g)})+1,p.length-1)];return o.eq(_,g)&&(_=o.add(g,n,"minutes")),_},closestSlotToPosition:function(g){var _=Math.min(p.length-1,Math.max(0,Math.floor(g*d)));return p[_]},closestSlotFromPoint:function(g,_){var A=Math.abs(_.top-_.bottom);return this.closestSlotToPosition((g.y-_.top)/A)},closestSlotFromDate:function(g){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(o.lt(g,t,"minutes"))return p[0];if(o.gt(g,r,"minutes"))return p[p.length-1];var A=o.diff(t,g,"minutes");return p[(A-A%n)/n+_]},startsBeforeDay:function(g){return o.lt(g,t,"day")},startsAfterDay:function(g){return o.gt(g,r,"day")},startsBefore:function(g){return o.lt(o.merge(t,g),t,"minutes")},startsAfter:function(g){return o.gt(o.merge(r,g),r,"minutes")},getRange:function(g,_,A,R){A||(g=o.min(r,o.max(t,g))),R||(_=o.min(r,o.max(t,_)));var O=S(g),F=S(_),N=F>n*d&&!o.eq(r,_)?(O-n)/(n*d)*100:O/(n*d)*100;return{top:N,height:F/(n*d)*100-N,start:S(g),startDate:g,end:S(_),endDate:_}},getCurrentTimePosition:function(g){var _=S(g),A=_/(n*d)*100;return A}}}var mb=function(){function e(t,r){var n=r.accessors,a=r.slotMetrics;Se(this,e);var o=a.getRange(n.start(t),n.end(t)),i=o.start,s=o.startDate,l=o.end,c=o.endDate,d=o.top,f=o.height;this.start=i,this.end=l,this.startMs=+s,this.endMs=+c,this.top=d,this.height=f,this.data=t}return xe(e,[{key:"_width",get:function(){if(this.rows){var r=this.rows.reduce(function(a,o){return Math.max(a,o.leaves.length+1)},0)+1;return 100/r}if(this.leaves){var n=100-this.container._width;return n/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var r=this._width,n=Math.min(100,this._width*1.7);if(this.rows)return n;if(this.leaves)return this.leaves.length>0?n:r;var a=this.row.leaves,o=a.indexOf(this);return o===a.length-1?r:n}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var r=this.row,n=r.leaves,a=r.xOffset,o=r._width,i=n.indexOf(this)+1;return a+i*o}}])}();function gb(e,t,r){return Math.abs(t.start-e.start)<r||t.start>e.start&&t.start<e.end}function yb(e){for(var t=Wh(e,["startMs",function(s){return-s.endMs}]),r=[];t.length>0;){var n=t.shift();r.push(n);for(var a=0;a<t.length;a++){var o=t[a];if(!(n.endMs>o.startMs)){if(a>0){var i=t.splice(a,1)[0];r.push(i)}break}}}return r}function di(e){for(var t=e.events,r=e.minimumStartDifference,n=e.slotMetrics,a=e.accessors,o=t.map(function(d){return new mb(d,{slotMetrics:n,accessors:a})}),i=yb(o),s=[],l=function(){var f=i[c],p=s.find(function(h){return h.end>f.start||Math.abs(f.start-h.start)<r});if(!p)return f.rows=[],s.push(f),1;f.container=p;for(var v=null,m=p.rows.length-1;!v&&m>=0;m--)gb(p.rows[m],f,r)&&(v=p.rows[m]);v?(v.leaves.push(f),f.row=v):(f.leaves=[],p.rows.push(f))},c=0;c<i.length;c++)l();return i.map(function(d){return{event:d.data,style:{top:d.top,height:d.height,width:d.width,xOffset:Math.max(0,d.xOffset)}}})}function fi(e,t,r){for(var n=0;n<e.friends.length;++n)if(!(r.indexOf(e.friends[n])>-1)){t=t>e.friends[n].idx?t:e.friends[n].idx,r.push(e.friends[n]);var a=fi(e.friends[n],t,r);t=t>a?t:a}return t}function bb(e){var t=e.events,r=e.minimumStartDifference,n=e.slotMetrics,a=e.accessors,o=di({events:t,minimumStartDifference:r,slotMetrics:n,accessors:a});o.sort(function(ee,re){return ee=ee.style,re=re.style,ee.top!==re.top?ee.top>re.top?1:-1:ee.height!==re.height?ee.top+ee.height<re.top+re.height?1:-1:0});for(var i=0;i<o.length;++i)o[i].friends=[],delete o[i].style.left,delete o[i].style.left,delete o[i].idx,delete o[i].size;for(var s=0;s<o.length-1;++s)for(var l=o[s],c=l.style.top,d=l.style.top+l.style.height,f=s+1;f<o.length;++f){var p=o[f],v=p.style.top,m=p.style.top+p.style.height;(v>=c&&m<=d||m>c&&m<=d||v>=c&&v<d)&&(l.friends.push(p),p.friends.push(l))}for(var h=0;h<o.length;++h){for(var y=o[h],x=[],S=0;S<100;++S)x.push(1);for(var b=0;b<y.friends.length;++b)y.friends[b].idx!==void 0&&(x[y.friends[b].idx]=0);y.idx=x.indexOf(1)}for(var g=0;g<o.length;++g){var _=0;if(!o[g].size){var A=[],R=fi(o[g],0,A);_=100/(R+1),o[g].size=_;for(var O=0;O<A.length;++O)A[O].size=_}}for(var F=0;F<o.length;++F){var N=o[F];N.style.left=N.idx*N.size;for(var L=0,H=0;H<N.friends.length;++H){var U=N.friends[H].idx;L=L>U?L:U}L<=N.idx&&(N.size=100-N.idx*N.size);var Y=N.idx===0?0:3;N.style.width="calc(".concat(N.size,"% - ").concat(Y,"px)"),N.style.height="calc(".concat(N.style.height,"% - 2px)"),N.style.xOffset="calc(".concat(N.style.left,"% + ").concat(Y,"px)")}return o}var ja={overlap:di,"no-overlap":bb};function wb(e){return!!(e&&e.constructor&&e.call&&e.apply)}function Sb(e){e.events,e.minimumStartDifference,e.slotMetrics,e.accessors;var t=e.dayLayoutAlgorithm,r=t;return t in ja&&(r=ja[t]),wb(r)?r.apply(this,arguments):[]}var pi=function(e){function t(){return Se(this,t),Te(this,t,arguments)}return Oe(t,e),xe(t,[{key:"render",value:function(){var n=this.props,a=n.renderSlot,o=n.resource,i=n.group,s=n.getters,l=n.components,c=l===void 0?{}:l,d=c.timeSlotWrapper,f=d===void 0?Ye:d,p=s?s.slotGroupProp(i):{};return D.createElement("div",Object.assign({className:"rbc-timeslot-group"},p),i.map(function(v,m){var h=s?s.slotProp(v,o):{};return D.createElement(f,{key:m,value:v,resource:o},D.createElement("div",Object.assign({},h,{className:ye("rbc-time-slot",h.className)}),a&&a(v,m)))}))}}])}(W.Component);function Vt(e){return typeof e=="string"?e:e+"%"}function xb(e){var t=e.style,r=e.className,n=e.event,a=e.accessors,o=e.rtl,i=e.selected,s=e.label,l=e.continuesPrior,c=e.continuesAfter,d=e.getters,f=e.onClick,p=e.onDoubleClick,v=e.isBackgroundEvent,m=e.onKeyPress,h=e.components,y=h.event,x=h.eventWrapper,S=a.title(n),b=a.tooltip(n),g=a.end(n),_=a.start(n),A=d.eventProp(n,_,g,i),R=[D.createElement("div",{key:"1",className:"rbc-event-label"},s),D.createElement("div",{key:"2",className:"rbc-event-content"},y?D.createElement(y,{event:n,title:S}):S)],O=t.height,F=t.top,N=t.width,L=t.xOffset,H=ce(ce({},A.style),{},nt({top:Vt(F),height:Vt(O),width:Vt(N)},o?"right":"left",Vt(L)));return D.createElement(x,Object.assign({type:"time"},e),D.createElement("div",{role:"button",tabIndex:0,onClick:f,onDoubleClick:p,style:H,onKeyDown:m,title:b?(typeof s=="string"?s+": ":"")+b:void 0,className:ye(v?"rbc-background-event":"rbc-event",r,A.className,{"rbc-selected":i,"rbc-event-continues-earlier":l,"rbc-event-continues-later":c})},R))}var Eb=function(t){var r=t.children,n=t.className,a=t.style,o=t.innerRef;return D.createElement("div",{className:n,style:a,ref:o},r)},Db=D.forwardRef(function(e,t){return D.createElement(Eb,Object.assign({},e,{innerRef:t}))}),_b=["dayProp"],Cb=["eventContainerWrapper"],hi=function(e){function t(){var r;Se(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=Te(this,t,[].concat(a)),r.state={selecting:!1,timeIndicatorPosition:null},r.intervalTriggered=!1,r.renderEvents=function(i){var s=i.events,l=i.isBackgroundEvent,c=r.props,d=c.rtl,f=c.selected,p=c.accessors,v=c.localizer,m=c.getters,h=c.components,y=c.step,x=c.timeslots,S=c.dayLayoutAlgorithm,b=c.resizable,g=r,_=g.slotMetrics,A=v.messages,R=Sb({events:s,accessors:p,slotMetrics:_,minimumStartDifference:Math.ceil(y*x/2),dayLayoutAlgorithm:S});return R.map(function(O,F){var N=O.event,L=O.style,H=p.end(N),U=p.start(N),Y="eventTimeRangeFormat",ee,re=_.startsBeforeDay(U),se=_.startsAfterDay(H);re?Y="eventTimeRangeEndFormat":se&&(Y="eventTimeRangeStartFormat"),re&&se?ee=A.allDay:ee=v.format({start:U,end:H},Y);var Z=re||_.startsBefore(U),le=se||_.startsAfter(H);return D.createElement(xb,{style:L,event:N,label:ee,key:"evt_"+F,getters:m,rtl:d,components:h,continuesPrior:Z,continuesAfter:le,accessors:p,resource:r.props.resource,selected:Dr(N,f),onClick:function(T){return r._select(ce(ce(ce({},N),r.props.resource&&{sourceResource:r.props.resource}),l&&{isBackgroundEvent:!0}),T)},onDoubleClick:function(T){return r._doubleClick(N,T)},isBackgroundEvent:l,onKeyPress:function(T){return r._keyPress(N,T)},resizable:b})})},r._selectable=function(){var i=r.containerRef.current,s=r.props,l=s.longPressThreshold,c=s.localizer,d=r._selector=new ni(function(){return i},{longPressThreshold:l}),f=function(h){var y=r.props.onSelecting,x=r.state||{},S=p(h),b=S.startDate,g=S.endDate;y&&(c.eq(x.startDate,b,"minutes")&&c.eq(x.endDate,g,"minutes")||y({start:b,end:g,resourceId:r.props.resource})===!1)||(r.state.start!==S.start||r.state.end!==S.end||r.state.selecting!==S.selecting)&&r.setState(S)},p=function(h){var y=r.slotMetrics.closestSlotFromPoint(h,dt(i));r.state.selecting||(r._initialSlot=y);var x=r._initialSlot;c.lte(x,y)?y=r.slotMetrics.nextSlot(y):c.gt(x,y)&&(x=r.slotMetrics.nextSlot(x));var S=r.slotMetrics.getRange(c.min(x,y),c.max(x,y));return ce(ce({},S),{},{selecting:!0,top:"".concat(S.top,"%"),height:"".concat(S.height,"%")})},v=function(h,y){if(!ur(r.containerRef.current,h)){var x=p(h),S=x.startDate,b=x.endDate;r._selectSlot({startDate:S,endDate:b,action:y,box:h})}r.setState({selecting:!1})};d.on("selecting",f),d.on("selectStart",f),d.on("beforeSelect",function(m){if(r.props.selectable==="ignoreEvents")return!ur(r.containerRef.current,m)}),d.on("click",function(m){return v(m,"click")}),d.on("doubleClick",function(m){return v(m,"doubleClick")}),d.on("select",function(m){r.state.selecting&&(r._selectSlot(ce(ce({},r.state),{},{action:"select",bounds:m})),r.setState({selecting:!1}))}),d.on("reset",function(){r.state.selecting&&r.setState({selecting:!1})})},r._teardownSelectable=function(){r._selector&&(r._selector.teardown(),r._selector=null)},r._selectSlot=function(i){for(var s=i.startDate,l=i.endDate,c=i.action,d=i.bounds,f=i.box,p=s,v=[];r.props.localizer.lte(p,l);)v.push(p),p=new Date(+p+r.props.step*60*1e3);fe(r.props.onSelectSlot,{slots:v,start:s,end:l,resourceId:r.props.resource,action:c,bounds:d,box:f})},r._select=function(){for(var i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];fe(r.props.onSelectEvent,s)},r._doubleClick=function(){for(var i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];fe(r.props.onDoubleClickEvent,s)},r._keyPress=function(){for(var i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];fe(r.props.onKeyPressEvent,s)},r.slotMetrics=Dn(r.props),r.containerRef=W.createRef(),r}return Oe(t,e),xe(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(n,a){this.props.selectable&&!n.selectable&&this._selectable(),!this.props.selectable&&n.selectable&&this._teardownSelectable();var o=this.props,i=o.getNow,s=o.isNow,l=o.localizer,c=o.date,d=o.min,f=o.max,p=l.neq(n.getNow(),i(),"minutes");if(n.isNow!==s||p){if(this.clearTimeIndicatorInterval(),s){var v=!p&&l.eq(n.date,c,"minutes")&&a.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(v)}}else s&&(l.neq(n.min,d,"minutes")||l.neq(n.max,f,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var n=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!a&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){n.intervalTriggered=!0,n.positionTimeIndicator(),n.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var n=this.props,a=n.min,o=n.max,i=n.getNow,s=i();if(s>=a&&s<=o){var l=this.slotMetrics.getCurrentTimePosition(s);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:l})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var n=this.props,a=n.date,o=n.max,i=n.rtl,s=n.isNow,l=n.resource,c=n.accessors,d=n.localizer,f=n.getters,p=f.dayProp,v=Ue(f,_b),m=n.components,h=m.eventContainerWrapper,y=Ue(m,Cb);this.slotMetrics=this.slotMetrics.update(this.props);var x=this.slotMetrics,S=this.state,b=S.selecting,g=S.top,_=S.height,A=S.startDate,R=S.endDate,O={start:A,end:R},F=p(o),N=F.className,L=F.style,H=y.dayColumnWrapper||Db;return D.createElement(H,{ref:this.containerRef,date:a,style:L,className:ye(N,"rbc-day-slot","rbc-time-column",s&&"rbc-now",s&&"rbc-today",b&&"rbc-slot-selecting"),slotMetrics:x,resource:l},x.groups.map(function(U,Y){return D.createElement(pi,{key:Y,group:U,resource:l,getters:v,components:y})}),D.createElement(h,{localizer:d,resource:l,accessors:c,getters:v,components:y,slotMetrics:x},D.createElement("div",{className:ye("rbc-events-container",i&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),b&&D.createElement("div",{className:"rbc-slot-selection",style:{top:g,height:_}},D.createElement("span",null,d.format(O,"selectRangeFormat"))),s&&this.intervalTriggered&&D.createElement("div",{className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}}))}}])}(D.Component);hi.defaultProps={dragThroughEvents:!0,timeslots:2};function Pb(e){var t=e.min,r=e.max,n=e.localizer;return n.getTimezoneOffset(t)!==n.getTimezoneOffset(r)?{start:n.add(t,-1,"day"),end:n.add(r,-1,"day")}:{start:t,end:r}}var Ob=function(t){var r=t.min,n=t.max,a=t.timeslots,o=t.step,i=t.localizer,s=t.getNow,l=t.resource,c=t.components,d=t.getters,f=t.gutterRef,p=c.timeGutterWrapper,v=W.useMemo(function(){return Pb({min:r,max:n,localizer:i})},[r==null?void 0:r.toISOString(),n==null?void 0:n.toISOString(),i]),m=v.start,h=v.end,y=W.useState(Dn({min:m,max:h,timeslots:a,step:o,localizer:i})),x=Ke(y,2),S=x[0],b=x[1];W.useEffect(function(){S&&b(S.update({min:m,max:h,timeslots:a,step:o,localizer:i}))},[m==null?void 0:m.toISOString(),h==null?void 0:h.toISOString(),a,o]);var g=W.useCallback(function(_,A){if(A)return null;var R=S.dateIsInGroup(s(),A);return D.createElement("span",{className:ye("rbc-label",R&&"rbc-now")},i.format(_,"timeGutterFormat"))},[S,i,s]);return D.createElement(p,{slotMetrics:S},D.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:f},S.groups.map(function(_,A){return D.createElement(pi,{key:A,group:_,resource:l,components:c,renderSlot:g,getters:d})})))},Tb=D.forwardRef(function(e,t){return D.createElement(Ob,Object.assign({gutterRef:t},e))}),$b=function(t){var r=t.label;return D.createElement(D.Fragment,null,r)},Ab=function(e){function t(){var r;Se(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=Te(this,t,[].concat(a)),r.handleHeaderClick=function(i,s,l){l.preventDefault(),fe(r.props.onDrillDown,[i,s])},r.renderRow=function(i){var s=r.props,l=s.events,c=s.rtl,d=s.selectable,f=s.getNow,p=s.range,v=s.getters,m=s.localizer,h=s.accessors,y=s.components,x=s.resizable,S=h.resourceId(i),b=i?l.filter(function(g){return h.resource(g)===S}):l;return D.createElement(dr,{isAllDay:!0,rtl:c,getNow:f,minRows:2,maxRows:r.props.allDayMaxRows+1,range:p,events:b,resourceId:S,className:"rbc-allday-cell",selectable:d,selected:r.props.selected,components:y,accessors:h,getters:v,localizer:m,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyPress:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:x})},r}return Oe(t,e),xe(t,[{key:"renderHeaderCells",value:function(n){var a=this,o=this.props,i=o.localizer,s=o.getDrilldownView,l=o.getNow,c=o.getters.dayProp,d=o.components.header,f=d===void 0?ui:d,p=l();return n.map(function(v,m){var h=s(v),y=i.format(v,"dayFormat"),x=c(v),S=x.className,b=x.style,g=D.createElement(f,{date:v,label:y,localizer:i});return D.createElement("div",{key:m,style:b,className:ye("rbc-header",S,i.isSameDate(v,p)&&"rbc-today")},h?D.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(A){return a.handleHeaderClick(v,h,A)}},g):D.createElement("span",null,g))})}},{key:"render",value:function(){var n=this,a=this.props,o=a.width,i=a.rtl,s=a.resources,l=a.range,c=a.events,d=a.getNow,f=a.accessors,p=a.selectable,v=a.components,m=a.getters,h=a.scrollRef,y=a.localizer,x=a.isOverflowing,S=a.components,b=S.timeGutterHeader,g=S.resourceHeader,_=g===void 0?$b:g,A=a.resizable,R={};x&&(R[i?"marginLeft":"marginRight"]="".concat(Oo()-1,"px"));var O=s.groupEvents(c);return D.createElement("div",{style:R,ref:h,className:ye("rbc-time-header",x&&"rbc-overflowing")},D.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:o,minWidth:o,maxWidth:o}},b&&D.createElement(b,null)),s.map(function(F,N){var L=Ke(F,2),H=L[0],U=L[1];return D.createElement("div",{className:"rbc-time-header-content",key:H||N},U&&D.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(N)},D.createElement("div",{className:"rbc-header"},D.createElement(_,{index:N,label:f.resourceTitle(U),resource:U}))),D.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(l.length<=1?" rbc-time-header-cell-single-day":"")},n.renderHeaderCells(l)),D.createElement(dr,{isAllDay:!0,rtl:i,getNow:d,minRows:2,maxRows:n.props.allDayMaxRows+1,range:l,events:O.get(H)||[],resourceId:U&&H,className:"rbc-allday-cell",selectable:p,selected:n.props.selected,components:v,accessors:f,getters:m,localizer:y,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyDown:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:A}))}))}}])}(D.Component),zr={};function Mb(e,t){return{map:function(n){return e?e.map(function(a,o){return n([t.resourceId(a),a],o)}):[n([zr,null],0)]},groupEvents:function(n){var a=new Map;return e?(n.forEach(function(o){var i=t.resource(o)||zr;if(Array.isArray(i))i.forEach(function(l){var c=a.get(l)||[];c.push(o),a.set(l,c)});else{var s=a.get(i)||[];s.push(o),a.set(i,s)}}),a):(a.set(zr,n),a)}}}var St=function(e){function t(r){var n;return Se(this,t),n=Te(this,t,[r]),n.handleScroll=function(a){n.scrollRef.current&&(n.scrollRef.current.scrollLeft=a.target.scrollLeft)},n.handleResize=function(){zn(n.rafHandle),n.rafHandle=Po(n.checkOverflow)},n.handleKeyPressEvent=function(){n.clearSelection();for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];fe(n.props.onKeyPressEvent,o)},n.handleSelectEvent=function(){n.clearSelection();for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];fe(n.props.onSelectEvent,o)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];fe(n.props.onDoubleClickEvent,o)},n.handleShowMore=function(a,o,i,s,l){var c=n.props,d=c.popup,f=c.onDrillDown,p=c.onShowMore,v=c.getDrilldownView,m=c.doShowMoreDrillDown;if(n.clearSelection(),d){var h=Co(i,n.containerRef.current);n.setState({overlay:{date:o,events:a,position:ce(ce({},h),{},{width:"200px"}),target:l}})}else m&&fe(f,[o,v(o)||Pe.DAY]);fe(p,[a,o,s])},n.handleSelectAllDaySlot=function(a,o){var i=n.props.onSelectSlot,s=new Date(a[0]),l=new Date(a[a.length-1]);l.setDate(a[a.length-1].getDate()+1),fe(i,{slots:a,start:s,end:l,action:o.action,resourceId:o.resourceId})},n.overlayDisplay=function(){n.setState({overlay:null})},n.checkOverflow=function(){if(!n._updatingOverflow){var a=n.contentRef.current;if(a!=null&&a.scrollHeight){var o=a.scrollHeight>a.clientHeight;n.state.isOverflowing!==o&&(n._updatingOverflow=!0,n.setState({isOverflowing:o},function(){n._updatingOverflow=!1}))}}},n.memoizedResources=zo(function(a,o){return Mb(a,o)}),n.state={gutterWidth:void 0,isOverflowing:null},n.scrollRef=D.createRef(),n.contentRef=D.createRef(),n.containerRef=D.createRef(),n._scrollRatio=null,n.gutterRef=W.createRef(),n}return Oe(t,e),xe(t,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),zn(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderEvents",value:function(n,a,o,i){var s=this,l=this.props,c=l.min,d=l.max,f=l.components,p=l.accessors,v=l.localizer,m=l.dayLayoutAlgorithm,h=this.memoizedResources(this.props.resources,p),y=h.groupEvents(a),x=h.groupEvents(o);return h.map(function(S,b){var g=Ke(S,2),_=g[0],A=g[1];return n.map(function(R,O){var F=(y.get(_)||[]).filter(function(L){return v.inRange(R,p.start(L),p.end(L),"day")}),N=(x.get(_)||[]).filter(function(L){return v.inRange(R,p.start(L),p.end(L),"day")});return D.createElement(hi,Object.assign({},s.props,{localizer:v,min:v.merge(R,c),max:v.merge(R,d),resource:A&&_,components:f,isNow:v.isSameDate(R,i),key:b+"-"+O,date:R,events:F,backgroundEvents:N,dayLayoutAlgorithm:m}))})})}},{key:"render",value:function(){var n,a=this.props,o=a.events,i=a.backgroundEvents,s=a.range,l=a.width,c=a.rtl,d=a.selected,f=a.getNow,p=a.resources,v=a.components,m=a.accessors,h=a.getters,y=a.localizer,x=a.min,S=a.max,b=a.showMultiDayTimes,g=a.longPressThreshold,_=a.resizable;l=l||this.state.gutterWidth;var A=s[0],R=s[s.length-1];this.slots=s.length;var O=[],F=[],N=[];return o.forEach(function(L){if(It(L,A,R,m,y)){var H=m.start(L),U=m.end(L);m.allDay(L)||y.startAndEndAreDateOnly(H,U)||!b&&!y.isSameDate(H,U)?O.push(L):F.push(L)}}),i.forEach(function(L){It(L,A,R,m,y)&&N.push(L)}),O.sort(function(L,H){return tn(L,H,m,y)}),D.createElement("div",{className:ye("rbc-time-view",p&&"rbc-time-view-resources"),ref:this.containerRef},D.createElement(Ab,{range:s,events:O,width:l,rtl:c,getNow:f,localizer:y,selected:d,allDayMaxRows:this.props.showAllEvents?1/0:(n=this.props.allDayMaxRows)!==null&&n!==void 0?n:1/0,resources:this.memoizedResources(p,m),selectable:this.props.selectable,accessors:m,getters:h,components:v,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:g,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:_}),this.props.popup&&this.renderOverlay(),D.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},D.createElement(Tb,{date:A,ref:this.gutterRef,localizer:y,min:y.merge(A,x),max:y.merge(A,S),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:v,className:"rbc-time-gutter",getters:h}),this.renderEvents(s,F,N,f())))}},{key:"renderOverlay",value:function(){var n,a,o=this,i=(n=(a=this.state)===null||a===void 0?void 0:a.overlay)!==null&&n!==void 0?n:{},s=this.props,l=s.accessors,c=s.localizer,d=s.components,f=s.getters,p=s.selected,v=s.popupOffset,m=s.handleDragStart,h=function(){return o.setState({overlay:null})};return D.createElement(En,{overlay:i,accessors:l,localizer:c,components:d,getters:f,selected:p,popupOffset:v,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:m,show:!!i.position,overlayDisplay:this.overlayDisplay,onHide:h})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var n=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var a,o=(a=n.gutterRef)!==null&&a!==void 0&&a.current?Jr(n.gutterRef.current):void 0;o&&n.state.gutterWidth!==o&&n.setState({gutterWidth:o})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var n=this.contentRef.current;n.scrollTop=n.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,a=n.min,o=n.max,i=n.scrollToTime,s=n.localizer,l=s.diff(s.merge(i,a),i,"milliseconds"),c=s.diff(a,o,"milliseconds");this._scrollRatio=l/c}}])}(W.Component);St.defaultProps={step:30,timeslots:2};var Rb=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Cr=function(e){function t(){return Se(this,t),Te(this,t,arguments)}return Oe(t,e),xe(t,[{key:"render",value:function(){var n=this.props,a=n.date,o=n.localizer,i=n.min,s=i===void 0?o.startOf(new Date,"day"):i,l=n.max,c=l===void 0?o.endOf(new Date,"day"):l,d=n.scrollToTime,f=d===void 0?o.startOf(new Date,"day"):d,p=n.enableAutoScroll,v=p===void 0?!0:p,m=Ue(n,Rb),h=t.range(a,{localizer:o});return D.createElement(St,Object.assign({},m,{range:h,eventOffset:10,localizer:o,min:s,max:c,scrollToTime:f,enableAutoScroll:v}))}}])}(D.Component);Cr.range=function(e,t){var r=t.localizer;return[r.startOf(e,"day")]};Cr.navigate=function(e,t,r){var n=r.localizer;switch(t){case Me.PREVIOUS:return n.add(e,-1,"day");case Me.NEXT:return n.add(e,1,"day");default:return e}};Cr.title=function(e,t){var r=t.localizer;return r.format(e,"dayHeaderFormat")};var jb=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Ze=function(e){function t(){return Se(this,t),Te(this,t,arguments)}return Oe(t,e),xe(t,[{key:"render",value:function(){var n=this.props,a=n.date,o=n.localizer,i=n.min,s=i===void 0?o.startOf(new Date,"day"):i,l=n.max,c=l===void 0?o.endOf(new Date,"day"):l,d=n.scrollToTime,f=d===void 0?o.startOf(new Date,"day"):d,p=n.enableAutoScroll,v=p===void 0?!0:p,m=Ue(n,jb),h=t.range(a,this.props);return D.createElement(St,Object.assign({},m,{range:h,eventOffset:15,localizer:o,min:s,max:c,scrollToTime:f,enableAutoScroll:v}))}}])}(D.Component);Ze.defaultProps=St.defaultProps;Ze.navigate=function(e,t,r){var n=r.localizer;switch(t){case Me.PREVIOUS:return n.add(e,-1,"week");case Me.NEXT:return n.add(e,1,"week");default:return e}};Ze.range=function(e,t){var r=t.localizer,n=r.startOfWeek(),a=r.startOf(e,"week",n),o=r.endOf(e,"week",n);return r.range(a,o)};Ze.title=function(e,t){var r=t.localizer,n=Ze.range(e,{localizer:r}),a=Uo(n),o=a[0],i=a.slice(1);return r.format({start:o,end:i.pop()},"dayRangeHeaderFormat")};var kb=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function _n(e,t){return Ze.range(e,t).filter(function(r){return[6,0].indexOf(r.getDay())===-1})}var Bt=function(e){function t(){return Se(this,t),Te(this,t,arguments)}return Oe(t,e),xe(t,[{key:"render",value:function(){var n=this.props,a=n.date,o=n.localizer,i=n.min,s=i===void 0?o.startOf(new Date,"day"):i,l=n.max,c=l===void 0?o.endOf(new Date,"day"):l,d=n.scrollToTime,f=d===void 0?o.startOf(new Date,"day"):d,p=n.enableAutoScroll,v=p===void 0?!0:p,m=Ue(n,kb),h=_n(a,this.props);return D.createElement(St,Object.assign({},m,{range:h,eventOffset:15,localizer:o,min:s,max:c,scrollToTime:f,enableAutoScroll:v}))}}])}(D.Component);Bt.defaultProps=St.defaultProps;Bt.range=_n;Bt.navigate=Ze.navigate;Bt.title=function(e,t){var r=t.localizer,n=_n(e,{localizer:r}),a=Uo(n),o=a[0],i=a.slice(1);return r.format({start:o,end:i.pop()},"dayRangeHeaderFormat")};function Je(e){var t=e.accessors,r=e.components,n=e.date,a=e.events,o=e.getters,i=e.length,s=e.localizer,l=e.onDoubleClickEvent,c=e.onSelectEvent,d=e.selected,f=W.useRef(null),p=W.useRef(null),v=W.useRef(null),m=W.useRef(null),h=W.useRef(null);W.useEffect(function(){S()});var y=function(R,O,F){var N=r.event,L=r.date;return O=O.filter(function(H){return It(H,s.startOf(R,"day"),s.endOf(R,"day"),t,s)}),O.map(function(H,U){var Y=t.title(H),ee=t.end(H),re=t.start(H),se=o.eventProp(H,re,ee,Dr(H,d)),Z=U===0&&s.format(R,"agendaDateFormat"),le=U===0?D.createElement("td",{rowSpan:O.length,className:"rbc-agenda-date-cell"},L?D.createElement(L,{day:R,label:Z}):Z):!1;return D.createElement("tr",{key:F+"_"+U,className:se.className,style:se.style},le,D.createElement("td",{className:"rbc-agenda-time-cell"},x(R,H)),D.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(T){return c&&c(H,T)},onDoubleClick:function(T){return l&&l(H,T)}},N?D.createElement(N,{event:H,title:Y}):Y))},[])},x=function(R,O){var F="",N=r.time,L=s.messages.allDay,H=t.end(O),U=t.start(O);return t.allDay(O)||(s.eq(U,H)?L=s.format(U,"agendaTimeFormat"):s.isSameDate(U,H)?L=s.format({start:U,end:H},"agendaTimeRangeFormat"):s.isSameDate(R,U)?L=s.format(U,"agendaTimeFormat"):s.isSameDate(R,H)&&(L=s.format(H,"agendaTimeFormat"))),s.gt(R,U,"day")&&(F="rbc-continues-prior"),s.lt(R,H,"day")&&(F+=" rbc-continues-after"),D.createElement("span",{className:F.trim()},N?D.createElement(N,{event:O,day:R,label:L}):L)},S=function(){if(h.current){var R=f.current,O=h.current.firstChild;if(O){var F=m.current.scrollHeight>m.current.clientHeight,N=[],L=N;N=[Jr(O.children[0]),Jr(O.children[1])],(L[0]!==N[0]||L[1]!==N[1])&&(p.current.style.width=N[0]+"px",v.current.style.width=N[1]+"px"),F?(As(R,"rbc-header-overflowing"),R.style.marginRight=Oo()+"px"):Ms(R,"rbc-header-overflowing")}}},b=s.messages,g=s.add(n,i,"day"),_=s.range(n,g,"day");return a=a.filter(function(A){return It(A,s.startOf(n,"day"),s.endOf(g,"day"),t,s)}),a.sort(function(A,R){return+t.start(A)-+t.start(R)}),D.createElement("div",{className:"rbc-agenda-view"},a.length!==0?D.createElement(D.Fragment,null,D.createElement("table",{ref:f,className:"rbc-agenda-table"},D.createElement("thead",null,D.createElement("tr",null,D.createElement("th",{className:"rbc-header",ref:p},b.date),D.createElement("th",{className:"rbc-header",ref:v},b.time),D.createElement("th",{className:"rbc-header"},b.event)))),D.createElement("div",{className:"rbc-agenda-content",ref:m},D.createElement("table",{className:"rbc-agenda-table"},D.createElement("tbody",{ref:h},_.map(function(A,R){return y(A,a,R)}))))):D.createElement("span",{className:"rbc-agenda-empty"},b.noEventsInRange))}Je.defaultProps={length:30};Je.range=function(e,t){var r=t.length,n=r===void 0?Je.defaultProps.length:r,a=t.localizer,o=a.add(e,n,"day");return{start:e,end:o}};Je.navigate=function(e,t,r){var n=r.length,a=n===void 0?Je.defaultProps.length:n,o=r.localizer;switch(t){case Me.PREVIOUS:return o.add(e,-a,"day");case Me.NEXT:return o.add(e,a,"day");default:return e}};Je.title=function(e,t){var r=t.length,n=r===void 0?Je.defaultProps.length:r,a=t.localizer,o=a.add(e,n,"day");return a.format({start:e,end:o},"agendaHeaderFormat")};var nr=nt(nt(nt(nt(nt({},Pe.MONTH,_r),Pe.WEEK,Ze),Pe.WORK_WEEK,Bt),Pe.DAY,Cr),Pe.AGENDA,Je),Ib=["action","date","today"];function Nb(e,t){var r=t.action,n=t.date,a=t.today,o=Ue(t,Ib);switch(e=typeof e=="string"?nr[e]:e,r){case Me.TODAY:n=a||new Date;break;case Me.DATE:break;default:Ct(e&&typeof e.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),n=e.navigate(n,r,o)}return n}var Lb=function(e){function t(){var r;Se(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=Te(this,t,[].concat(a)),r.navigate=function(i){r.props.onNavigate(i)},r.view=function(i){r.props.onView(i)},r}return Oe(t,e),xe(t,[{key:"render",value:function(){var n=this.props,a=n.localizer.messages,o=n.label;return D.createElement("div",{className:"rbc-toolbar"},D.createElement("span",{className:"rbc-btn-group"},D.createElement("button",{type:"button",onClick:this.navigate.bind(null,Me.TODAY)},a.today),D.createElement("button",{type:"button",onClick:this.navigate.bind(null,Me.PREVIOUS)},a.previous),D.createElement("button",{type:"button",onClick:this.navigate.bind(null,Me.NEXT)},a.next)),D.createElement("span",{className:"rbc-toolbar-label"},o),D.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(a)))}},{key:"viewNamesGroup",value:function(n){var a=this,o=this.props.views,i=this.props.view;if(o.length>1)return o.map(function(s){return D.createElement("button",{type:"button",key:s,className:ye({"rbc-active":i===s}),onClick:a.view.bind(null,s)},n[s])})}}])}(D.Component);function Fb(e,t){var r=null;return typeof t=="function"?r=t(e):typeof t=="string"&&ot(e)==="object"&&e!=null&&t in e&&(r=e[t]),r}var Ge=function(t){return function(r){return Fb(r,t)}},zb=["view","date","getNow","onNavigate"],Wb=["view","toolbar","events","backgroundEvents","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function vi(e){if(Array.isArray(e))return e;for(var t=[],r=0,n=Object.entries(e);r<n.length;r++){var a=Ke(n[r],2),o=a[0],i=a[1];i&&t.push(o)}return t}function Hb(e,t){var r=t.views,n=vi(r);return n.indexOf(e)!==-1}var mi=function(e){function t(){var r;Se(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=Te(this,t,[].concat(a)),r.getViews=function(){var i=r.props.views;return Array.isArray(i)?vy(i,function(s,l){return s[l]=nr[l]},{}):ot(i)==="object"?Sy(i,function(s,l){return s===!0?nr[l]:s}):nr},r.getView=function(){var i=r.getViews();return i[r.props.view]},r.getDrilldownView=function(i){var s=r.props,l=s.view,c=s.drilldownView,d=s.getDrilldownView;return d?d(i,l,Object.keys(r.getViews())):c},r.handleRangeChange=function(i,s,l){var c=r.props,d=c.onRangeChange,f=c.localizer;d&&s.range&&d(s.range(i,{localizer:f}),l)},r.handleNavigate=function(i,s){var l=r.props,c=l.view,d=l.date,f=l.getNow,p=l.onNavigate,v=Ue(l,zb),m=r.getView(),h=f();d=Nb(m,ce(ce({},v),{},{action:i,date:s||d||h,today:h})),p(d,c,i),r.handleRangeChange(d,m)},r.handleViewChange=function(i){i!==r.props.view&&Hb(i,r.props)&&r.props.onView(i);var s=r.getViews();r.handleRangeChange(r.props.date||r.props.getNow(),s[i],i)},r.handleSelectEvent=function(){for(var i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];fe(r.props.onSelectEvent,s)},r.handleDoubleClickEvent=function(){for(var i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];fe(r.props.onDoubleClickEvent,s)},r.handleKeyPressEvent=function(){for(var i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];fe(r.props.onKeyPressEvent,s)},r.handleSelectSlot=function(i){fe(r.props.onSelectSlot,i)},r.handleDrillDown=function(i,s){var l=r.props.onDrillDown;if(l){l(i,s,r.drilldownView);return}s&&r.handleViewChange(s),r.handleNavigate(Me.DATE,i)},r.state={context:t.getContext(r.props)},r}return Oe(t,e),xe(t,[{key:"render",value:function(){var n=this.props,a=n.view,o=n.toolbar,i=n.events,s=n.backgroundEvents,l=n.style,c=n.className,d=n.elementProps,f=n.date,p=n.getNow,v=n.length,m=n.showMultiDayTimes,h=n.onShowMore,y=n.doShowMoreDrillDown;n.components,n.formats,n.messages,n.culture;var x=Ue(n,Wb);f=f||p();var S=this.getView(),b=this.state.context,g=b.accessors,_=b.components,A=b.getters,R=b.localizer,O=b.viewNames,F=_.toolbar||Lb,N=S.title(f,{localizer:R,length:v});return D.createElement("div",Object.assign({},d,{className:ye(c,"rbc-calendar",x.rtl&&"rbc-rtl"),style:l}),o&&D.createElement(F,{date:f,view:a,views:O,label:N,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:R}),D.createElement(S,Object.assign({},x,{events:i,backgroundEvents:s,date:f,getNow:p,length:v,localizer:R,getters:A,components:_,accessors:g,showMultiDayTimes:m,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:h,doShowMoreDrillDown:y})))}}],[{key:"getDerivedStateFromProps",value:function(n){return{context:t.getContext(n)}}},{key:"getContext",value:function(n){var a=n.startAccessor,o=n.endAccessor,i=n.allDayAccessor,s=n.tooltipAccessor,l=n.titleAccessor,c=n.resourceAccessor,d=n.resourceIdAccessor,f=n.resourceTitleAccessor,p=n.eventPropGetter,v=n.backgroundEventPropGetter,m=n.slotPropGetter,h=n.slotGroupPropGetter,y=n.dayPropGetter,x=n.view,S=n.views,b=n.localizer,g=n.culture,_=n.messages,A=_===void 0?{}:_,R=n.components,O=R===void 0?{}:R,F=n.formats,N=F===void 0?{}:F,L=vi(S),H=Yy(A);return{viewNames:L,localizer:By(b,g,N,H),getters:{eventProp:function(){return p&&p.apply(void 0,arguments)||{}},backgroundEventProp:function(){return v&&v.apply(void 0,arguments)||{}},slotProp:function(){return m&&m.apply(void 0,arguments)||{}},slotGroupProp:function(){return h&&h.apply(void 0,arguments)||{}},dayProp:function(){return y&&y.apply(void 0,arguments)||{}}},components:ry(O[x]||{},Gg(O,L),{eventWrapper:Ye,backgroundEventWrapper:Ye,eventContainerWrapper:Ye,dateCellWrapper:Ye,weekWrapper:Ye,timeSlotWrapper:Ye,timeGutterWrapper:Ye}),accessors:{start:Ge(a),end:Ge(o),allDay:Ge(i),tooltip:Ge(s),title:Ge(l),resource:Ge(c),resourceId:Ge(d),resourceTitle:Ge(f)}}}}])}(D.Component);mi.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:Pe.MONTH,views:[Pe.MONTH,Pe.WEEK,Pe.DAY,Pe.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:Pe.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var Ub=co(mi,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),Bb=function(t,r,n){var a=t.start,o=t.end;return n.format(a,"MMMM DD",r)+"  "+n.format(o,n.eq(a,o,"month")?"DD":"MMMM DD",r)},qb=function(t,r,n){var a=t.start,o=t.end;return n.format(a,"L",r)+"  "+n.format(o,"L",r)},Wr=function(t,r,n){var a=t.start,o=t.end;return n.format(a,"LT",r)+"  "+n.format(o,"LT",r)},Yb=function(t,r,n){var a=t.start;return n.format(a,"LT",r)+"  "},Kb=function(t,r,n){var a=t.end;return"  "+n.format(a,"LT",r)},Gb={dateFormat:"DD",dayFormat:"DD ddd",weekdayFormat:"ddd",selectRangeFormat:Wr,eventTimeRangeFormat:Wr,eventTimeRangeStartFormat:Yb,eventTimeRangeEndFormat:Kb,timeGutterFormat:"LT",monthHeaderFormat:"MMMM YYYY",dayHeaderFormat:"dddd MMM DD",dayRangeHeaderFormat:Bb,agendaHeaderFormat:qb,agendaDateFormat:"ddd MMM DD",agendaTimeFormat:"LT",agendaTimeRangeFormat:Wr};function Ve(e){var t=e&&e.toLowerCase();return t==="FullYear"?t="year":t||(t=void 0),t}function Vb(e){var t=function(I,z){return z?I.locale(z):I};function r(T){return e(T).toDate().getTimezoneOffset()}function n(T,I){var z,q,M=e(T).local(),K=e(I).local();if(!e.tz)return M.toDate().getTimezoneOffset()-K.toDate().getTimezoneOffset();var te=(z=M==null||(q=M._z)===null||q===void 0?void 0:q.name)!==null&&z!==void 0?z:e.tz.guess(),ae=e.tz.zone(te).utcOffset(+M),w=e.tz.zone(te).utcOffset(+K);return ae-w}function a(T){var I=e(T).startOf("day");return n(I,T)}function o(T,I,z){var q=Ve(z),M=q?e(T).startOf(q):e(T),K=q?e(I).startOf(q):e(I);return[M,K,q]}function i(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,I=arguments.length>1?arguments[1]:void 0,z=Ve(I);return z?e(T).startOf(z).toDate():e(T).toDate()}function s(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,I=arguments.length>1?arguments[1]:void 0,z=Ve(I);return z?e(T).endOf(z).toDate():e(T).toDate()}function l(T,I,z){var q=o(T,I,z),M=Ke(q,3),K=M[0],te=M[1],ae=M[2];return K.isSame(te,ae)}function c(T,I,z){return!l(T,I,z)}function d(T,I,z){var q=o(T,I,z),M=Ke(q,3),K=M[0],te=M[1],ae=M[2];return K.isAfter(te,ae)}function f(T,I,z){var q=o(T,I,z),M=Ke(q,3),K=M[0],te=M[1],ae=M[2];return K.isBefore(te,ae)}function p(T,I,z){var q=o(T,I,z),M=Ke(q,3),K=M[0],te=M[1],ae=M[2];return K.isSameOrBefore(te,ae)}function v(T,I,z){var q=o(T,I,z),M=Ke(q,3),K=M[0],te=M[1],ae=M[2];return K.isSameOrBefore(te,ae)}function m(T,I,z){var q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"day",M=Ve(q),K=e(T),te=e(I),ae=e(z);return K.isBetween(te,ae,M,"[]")}function h(T,I){var z=e(T),q=e(I),M=e.min(z,q);return M.toDate()}function y(T,I){var z=e(T),q=e(I),M=e.max(z,q);return M.toDate()}function x(T,I){if(!T&&!I)return null;var z=e(I).format("HH:mm:ss"),q=e(T).startOf("day").format("MM/DD/YYYY");return e("".concat(q," ").concat(z),"MM/DD/YYYY HH:mm:ss").toDate()}function S(T,I,z){var q=Ve(z);return e(T).add(I,q).toDate()}function b(T,I){for(var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",q=Ve(z),M=e(T).toDate(),K=[];v(M,I);)K.push(M),M=S(M,1,q);return K}function g(T,I){var z=Ve(I),q=i(T,z);return l(q,T)?q:S(q,1,z)}function _(T,I){var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",q=Ve(z),M=e(T),K=e(I);return K.diff(M,q)}function A(T){var I=e(T);return I.minutes()}function R(T){var I=T?e.localeData(T):e.localeData();return I?I.firstDayOfWeek():0}function O(T){return e(T).startOf("month").startOf("week").toDate()}function F(T){return e(T).endOf("month").endOf("week").toDate()}function N(T){for(var I=O(T),z=F(T),q=[];v(I,z);)q.push(I),I=S(I,1,"d");return q}function L(T,I,z){return e(T).startOf("day").minute(I+z).toDate()}function H(T,I){return _(T,I,"minutes")}function U(T){var I=e(T).startOf("day"),z=e(T);return z.diff(I,"minutes")+a(T)}function Y(T,I){var z=e(T),q=e(I);return z.isBefore(q,"day")}function ee(T,I,z){var q=e(I),M=e(z);return q.isSameOrAfter(M,"minutes")}function re(T,I){var z=e(T),q=e(I),M=e.duration(q.diff(z));return M.days()}function se(T){var I=T.evtA,z=I.start,q=I.end,M=I.allDay,K=T.evtB,te=K.start,ae=K.end,w=K.allDay,C=+i(z,"day")-+i(te,"day"),P=re(z,q),$=re(te,ae);return C||$-P||!!w-!!M||+z-+te||+q-+ae}function Z(T){var I=T.event,z=I.start,q=I.end,M=T.range,K=M.start,te=M.end,ae=e(z).startOf("day"),w=e(q),C=e(K),P=e(te),$=ae.isSameOrBefore(P,"day"),j=!ae.isSame(w,"minutes"),Q=j?w.isAfter(C,"minutes"):w.isSameOrAfter(C,"minutes");return $&&Q}function le(T,I){var z=e(T),q=e(I);return z.isSame(q,"day")}function be(){var T=new Date,I=/-/.test(T.toString())?"-":"",z=T.getTimezoneOffset(),q=Number("".concat(I).concat(Math.abs(z))),M=e().utcOffset();return M>q?1:0}return new Uy({formats:Gb,firstOfWeek:R,firstVisibleDay:O,lastVisibleDay:F,visibleDays:N,format:function(I,z,q){return t(e(I),q).format(z)},lt:f,lte:v,gt:d,gte:p,eq:l,neq:c,merge:x,inRange:m,startOf:i,endOf:s,range:b,add:S,diff:_,ceil:g,min:h,max:y,minutes:A,getSlotDate:L,getTimezoneOffset:r,getDstOffset:n,getTotalMin:H,getMinutesFromMidnight:U,continuesPrior:Y,continuesAfter:ee,sortEvents:se,inEventRange:Z,isSameDate:le,daySpan:re,browserTZOffset:be})}function gi({title:e,desc:t,open:r,getUserConfirmation:n}){const a=rn(),o=Ui(a.breakpoints.down("md"));return u.jsxs(ls,{fullScreen:o,open:r,onClose:()=>{},"aria-labelledby":"responsive-dialog-title",children:[u.jsx(Qs,{id:"responsive-dialog-title",children:e}),u.jsx(cs,{children:u.jsx(Ys,{children:t})}),u.jsxs(us,{children:[u.jsx(We,{autoFocus:!0,onClick:()=>n(!1),children:"Cancel"}),u.jsx(We,{onClick:()=>n(!0),autoFocus:!0,children:"Confirm"})]})]})}gi.propTypes={title:k.string,desc:k.string,open:k.bool,getUserConfirmation:k.func};const Xb=Vb(Dt),Qb=({id:e,setSnackbar:t,refetchUser:r,setMonthYear:n,month:a,year:o})=>{const i=rn(),s=pt(Z=>Z.user.token),l=pt(Z=>Z.user.user),{data:c,refetch:d}=Bi({token:s,id:e,month:a,year:o}),[f,{data:p,error:v}]=qi(),[m,{data:h,error:y}]=Yi(),[x,S]=W.useState([]),[b,g]=W.useState(!1),[_,A]=W.useState(!1),[R,O]=W.useState({}),[F,N]=W.useState({}),[L,H]=W.useState(""),U=Z=>{l.role==="HR"&&Z.title!=="Weekend"&&(O(Z),g(!0))},Y=()=>{g(!1),N({}),O({})},ee=Z=>{if(l.role==="HR"){const{start:le,end:be}=Z,T=x.filter(I=>I.start>=le&&I.start<be);if(T.length>0){if(T[0].title==="Weekend")return;O(T[0])}else N(Z);g(!0)}},re=Z=>{if(g(!1),A(!1),!Z){O({}),N({});return}if(Object.keys(F).length!==0){const le=JSON.stringify({status:L,date:Qe(F.start).format()});f({token:s,body:le,id:e}),N({});return}if(L!==R.status){const le=JSON.stringify({status:L});m({body:le,token:s,id:R.id})}O({})};W.useEffect(()=>{L!==""&&A(!0)},[L]);const se=Z=>({style:{backgroundColor:Z.title==="Present"||Z.title==="Holiday"||Z.title==="Weekend"&&!Z.status?i.palette.success.main:i.palette.error.main,borderRadius:"5px",opacity:.8,color:"white",border:"none",display:"block",padding:"2px 5px",textAlign:"center"}});return W.useEffect(()=>{if(c){const Z=c.attendance.filter(M=>{const K=Dt(M.date).tz(Dt.tz.guess());return K.day()!==5&&K.day()!==6}).map(M=>{const K=["Present","Holiday"],te=Dt(M.date).tz(Dt.tz.guess());return{id:M._id,title:M.status,status:M.status,start:te.toDate(),end:te.toDate(),allDay:K.includes(M.status)}}),le=new Date;le.setFullYear(o,a,1);const be=le.getDay(),T=M=>{const K=[];let te=new Date(le);const ae=(M+7-be)%7;for(te=$n(te,ae);te.getMonth()===a;)K.push(Fs(te)),te=$n(te,7);return K},I=T(6),z=T(5),q=[...I.map(M=>({title:"Weekend",start:M,end:M,allDay:!0})),...z.map(M=>({title:"Weekend",start:M,end:M,allDay:!0}))];S([...Z,...q])}},[c,a,o]),W.useEffect(()=>{if(y){let Z="";y.status==="FETCH_ERROR"?Z="Server is not responding!":Z=y.data.error,t({open:!0,mssg:Z,bgColor:i.palette.error.dark,anchorOrigin:{vertical:"top",horizontal:"right"}}),console.error(y)}h&&(H(""),d(),t({open:!0,mssg:"Status Updated",bgColor:i.palette.success.dark,anchorOrigin:{vertical:"top",horizontal:"right"}}),r())},[h,y,i,t,d,r]),W.useEffect(()=>{if(v){let Z="";v.status==="FETCH_ERROR"?Z="Server is not responding!":Z=v.data.error,t({open:!0,mssg:Z,bgColor:i.palette.error.dark,anchorOrigin:{vertical:"top",horizontal:"right"}}),console.error(v)}p&&(H(""),d(),t({open:!0,mssg:"New Attendance Added",bgColor:i.palette.success.dark,anchorOrigin:{vertical:"top",horizontal:"right"}}),r())},[p,v,i,t,d,r]),u.jsxs(Xe,{sx:{position:"relative"},children:[u.jsx(Ub,{localizer:Xb,events:x,startAccessor:"start",endAccessor:"end",style:{height:500},eventPropGetter:se,selectable:!0,longPressThreshold:0,onSelectEvent:U,onSelectSlot:ee,onNavigate:Z=>{n({month:Z.getMonth(),year:Z.getFullYear()})}}),b&&u.jsx(Ba,{onClickAway:Y,children:u.jsx(Ha,{sx:{position:"absolute",top:"40%",left:"30%",p:0,mt:1,ml:.75,width:"300px",opacity:1,zIndex:99,backgroundColor:"#f1f1f1"},children:u.jsxs(de,{m:2,children:[u.jsx(J,{variant:"h4",children:ar(R.start||F.start,"dd MMM yyyy")}),u.jsx(J,{variant:"body2",children:R.status||""}),u.jsx(Ki,{sx:{borderStyle:"dashed",m:0}}),u.jsx(ke,{value:"Present",onClick:()=>H("Present"),sx:{marginTop:"10px"},children:"Present"}),u.jsx(ke,{value:"Half Day",onClick:()=>H("Half Day"),children:"Half Day"}),u.jsx(ke,{value:"Absent",onClick:()=>H("Absent"),children:"Absent"}),u.jsx(ke,{value:"Medical Leave",onClick:()=>H("Medical Leave"),children:"Medical Leave"}),u.jsx(ke,{value:"Casual Leave",onClick:()=>H("Casual Leave"),children:"Casual Leave"}),u.jsx(ke,{value:"Holiday",onClick:()=>H("Holiday"),children:"Holiday"}),R.status&&u.jsx(ke,{value:"Remove",onClick:()=>H("Remove"),children:"Remove Attendance"})]})})}),u.jsx(gi,{open:_,title:"Confirm?",desc:R.status?`Change status from ${R.status} to ${L}?`:`Add new status '${L}'`,getUserConfirmation:re})]})},Zb=e=>u.jsxs("div",{children:[u.jsx("h1",{children:"Attendance Calendar"}),u.jsx(Qb,{...e})]}),Jb=Zb,Hr=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:"24",height:"20",viewBox:"0 0 384 512",children:u.jsx("path",{d:"M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM216 408c0 13.3-10.7 24-24 24s-24-10.7-24-24V305.9l-31 31c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l72-72c9.4-9.4 24.6-9.4 33.9 0l72 72c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-31-31V408z",fill:"white"})}),ew=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 448 512",children:u.jsx("path",{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7 .9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"})}),tw=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 512 512",children:u.jsx("path",{d:"M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48H48zM0 176V384c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V176L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"})});var yi={exports:{}};(function(e,t){(function(r,n){e.exports=n(W,Gi)})(typeof self<"u"?self:gt,function(r,n){return function(){var a={328:function(l,c,d){Object.defineProperty(c,"__esModule",{value:!0}),c.PrintContextConsumer=c.PrintContext=void 0;var f=d(496),p=Object.prototype.hasOwnProperty.call(f,"createContext");c.PrintContext=p?f.createContext({}):null,c.PrintContextConsumer=c.PrintContext?c.PrintContext.Consumer:function(){return null}},428:function(l,c,d){Object.defineProperty(c,"__esModule",{value:!0}),c.ReactToPrint=void 0;var f=d(316),p=d(496),v=d(190),m=d(328),h=d(940),y=function(x){function S(){var b=x.apply(this,f.__spreadArray([],f.__read(arguments),!1))||this;return b.startPrint=function(g){var _=b.props,A=_.onAfterPrint,R=_.onPrintError,O=_.print,F=_.documentTitle;setTimeout(function(){var N,L;if(g.contentWindow)if(g.contentWindow.focus(),O)O(g).then(function(){return A==null?void 0:A()}).then(function(){return b.handleRemoveIframe()}).catch(function(Y){R?R("print",Y):b.logMessages(["An error was thrown by the specified `print` function"])});else{if(g.contentWindow.print){var H=(L=(N=g.contentDocument)===null||N===void 0?void 0:N.title)!==null&&L!==void 0?L:"",U=g.ownerDocument.title;F&&(g.ownerDocument.title=F,g.contentDocument&&(g.contentDocument.title=F)),g.contentWindow.print(),F&&(g.ownerDocument.title=U,g.contentDocument&&(g.contentDocument.title=H))}else b.logMessages(["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."]);A==null||A(),b.handleRemoveIframe()}else b.logMessages(["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/gregnb/react-to-print/issues/"])},500)},b.triggerPrint=function(g){var _=b.props,A=_.onBeforePrint,R=_.onPrintError;if(A){var O=A();O&&typeof O.then=="function"?O.then(function(){b.startPrint(g)}).catch(function(F){R&&R("onBeforePrint",F)}):b.startPrint(g)}else b.startPrint(g)},b.handlePrint=function(g){var _=b.props,A=_.bodyClass,R=_.content,O=_.copyStyles,F=_.fonts,N=_.pageStyle,L=_.nonce,H=typeof g=="function"?g():null;if(H&&typeof R=="function"&&b.logMessages(['"react-to-print" received a `content` prop and a content param passed the callback return by `useReactToPrint. The `content` prop will be ignored.'],"warning"),H||typeof R!="function"||(H=R()),H!==void 0)if(H!==null){var U=document.createElement("iframe");U.width="".concat(document.documentElement.clientWidth,"px"),U.height="".concat(document.documentElement.clientHeight,"px"),U.style.position="absolute",U.style.top="-".concat(document.documentElement.clientHeight+100,"px"),U.style.left="-".concat(document.documentElement.clientWidth+100,"px"),U.id="printWindow",U.srcdoc="<!DOCTYPE html>";var Y=(0,v.findDOMNode)(H);if(Y){var ee=Y.cloneNode(!0),re=ee instanceof Text,se=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),Z=re?[]:ee.querySelectorAll("img"),le=re?[]:ee.querySelectorAll("video"),be=F?F.length:0;b.numResourcesToLoad=se.length+Z.length+le.length+be,b.resourcesLoaded=[],b.resourcesErrored=[];var T=function(I,z){b.resourcesLoaded.includes(I)?b.logMessages(["Tried to mark a resource that has already been handled",I],"debug"):(z?(b.logMessages(f.__spreadArray(['"react-to-print" was unable to load a resource but will continue attempting to print the page'],f.__read(z),!1)),b.resourcesErrored.push(I)):b.resourcesLoaded.push(I),b.resourcesLoaded.length+b.resourcesErrored.length===b.numResourcesToLoad&&b.triggerPrint(U))};U.onload=function(){var I,z,q,M;U.onload=null;var K=U.contentDocument||((z=U.contentWindow)===null||z===void 0?void 0:z.document);if(K){K.body.appendChild(ee),F&&(!((q=U.contentDocument)===null||q===void 0)&&q.fonts&&(!((M=U.contentWindow)===null||M===void 0)&&M.FontFace)?F.forEach(function(Ce){var ie=new FontFace(Ce.family,Ce.source,{weight:Ce.weight,style:Ce.style});U.contentDocument.fonts.add(ie),ie.loaded.then(function(){T(ie)}).catch(function(he){T(ie,["Failed loading the font:",ie,"Load error:",he])})}):(F.forEach(function(Ce){return T(Ce)}),b.logMessages(['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'])));var te=typeof N=="function"?N():N;if(typeof te!="string")b.logMessages(['"react-to-print" expected a "string" from `pageStyle` but received "'.concat(typeof te,'". Styles from `pageStyle` will not be applied.')]);else{var ae=K.createElement("style");L&&(ae.setAttribute("nonce",L),K.head.setAttribute("nonce",L)),ae.appendChild(K.createTextNode(te)),K.head.appendChild(ae)}if(A&&(I=K.body.classList).add.apply(I,f.__spreadArray([],f.__read(A.split(" ")),!1)),!re){for(var w=re?[]:Y.querySelectorAll("canvas"),C=K.querySelectorAll("canvas"),P=0;P<w.length;++P){var $=w[P],j=C[P].getContext("2d");j&&j.drawImage($,0,0)}var Q=function(Ce){var ie=Z[Ce],he=ie.getAttribute("src");if(he){var je=new Image;je.onload=function(){return T(ie)},je.onerror=function(tt,xt,qt,Ne,Ae){return T(ie,["Error loading <img>",ie,"Error",Ae])},je.src=he}else T(ie,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it. The <img> is:',ie])};for(P=0;P<Z.length;P++)Q(P);var V=function(Ce){var ie=le[Ce];ie.preload="auto";var he=ie.getAttribute("poster");if(he){var je=new Image;je.onload=function(){return T(ie)},je.onerror=function(tt,xt,qt,Ne,Ae){return T(ie,["Error loading video poster",he,"for video",ie,"Error:",Ae])},je.src=he}else ie.readyState>=2?T(ie):(ie.onloadeddata=function(){return T(ie)},ie.onerror=function(tt,xt,qt,Ne,Ae){return T(ie,["Error loading video",ie,"Error",Ae])},ie.onstalled=function(){return T(ie,["Loading video stalled, skipping",ie])})};for(P=0;P<le.length;P++)V(P);var ne="input",E=Y.querySelectorAll(ne),X=K.querySelectorAll(ne);for(P=0;P<E.length;P++)X[P].value=E[P].value;var B="input[type=checkbox],input[type=radio]",G=Y.querySelectorAll(B),me=K.querySelectorAll(B);for(P=0;P<G.length;P++)me[P].checked=G[P].checked;var _e="select",$e=Y.querySelectorAll(_e),Ie=K.querySelectorAll(_e);for(P=0;P<$e.length;P++)Ie[P].value=$e[P].value}if(O)for(var Re=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']"),Be=function(Ce,ie){var he=Re[Ce];if(he.tagName.toLowerCase()==="style"){var je=K.createElement(he.tagName),tt=he.sheet;if(tt){var xt="";try{for(var qt=tt.cssRules.length,Ne=0;Ne<qt;++Ne)typeof tt.cssRules[Ne].cssText=="string"&&(xt+="".concat(tt.cssRules[Ne].cssText,`\r
`))}catch{b.logMessages(["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/gregnb/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",he],"warning")}je.setAttribute("id","react-to-print-".concat(Ce)),L&&je.setAttribute("nonce",L),je.appendChild(K.createTextNode(xt)),K.head.appendChild(je)}}else if(he.getAttribute("href"))if(he.hasAttribute("disabled"))b.logMessages(["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",he],"warning"),T(he);else{for(var Ae=K.createElement(he.tagName),Ei=(Ne=0,he.attributes.length);Ne<Ei;++Ne){var Or=he.attributes[Ne];Or&&Ae.setAttribute(Or.nodeName,Or.nodeValue||"")}Ae.onload=function(){return T(Ae)},Ae.onerror=function(Di,iw,sw,lw,_i){return T(Ae,["Failed to load",Ae,"Error:",_i])},L&&Ae.setAttribute("nonce",L),K.head.appendChild(Ae)}else b.logMessages(["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",he],"warning"),T(he)},Pr=(P=0,Re.length);P<Pr;++P)Be(P)}b.numResourcesToLoad!==0&&O||b.triggerPrint(U)},b.handleRemoveIframe(!0),document.body.appendChild(U)}else b.logMessages(['"react-to-print" could not locate the DOM node corresponding with the `content` prop'])}else b.logMessages(['There is nothing to print because the "content" prop returned "null". Please ensure "content" is renderable before allowing "react-to-print" to be called.']);else b.logMessages(["To print a functional component ensure it is wrapped with `React.forwardRef`, and ensure the forwarded ref is used. See the README for an example: https://github.com/gregnb/react-to-print#examples"])},b.handleRemoveIframe=function(g){var _=b.props.removeAfterPrint;if(g||_){var A=document.getElementById("printWindow");A&&document.body.removeChild(A)}},b.logMessages=function(g,_){_===void 0&&(_="error"),b.props.suppressErrors||(_==="error"?console.error(g):_==="warning"?console.warn(g):_==="debug"&&console.debug(g))},b}return f.__extends(S,x),S.prototype.handleClick=function(b,g){var _=this,A=this.props,R=A.onBeforeGetContent,O=A.onPrintError;if(R){var F=R();F&&typeof F.then=="function"?F.then(function(){return _.handlePrint(g)}).catch(function(N){O&&O("onBeforeGetContent",N)}):this.handlePrint(g)}else this.handlePrint(g)},S.prototype.render=function(){var b=this.props,g=b.children,_=b.trigger;if(_)return p.cloneElement(_(),{onClick:this.handleClick.bind(this)});if(!m.PrintContext)return this.logMessages(['"react-to-print" requires React ^16.3.0 to be able to use "PrintContext"']),null;var A={handlePrint:this.handleClick.bind(this)};return p.createElement(m.PrintContext.Provider,{value:A},g)},S.defaultProps=h.defaultProps,S}(p.Component);c.ReactToPrint=y},940:function(l,c){Object.defineProperty(c,"__esModule",{value:!0}),c.defaultProps=void 0,c.defaultProps={copyStyles:!0,pageStyle:`
        @page {
            /* Remove browser default header (title) and footer (url) */
            margin: 0;
        }
        @media print {
            body {
                /* Tell browsers to print background colors */
                -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
                color-adjust: exact; /* Firefox */
            }
        }
    `,removeAfterPrint:!1,suppressErrors:!1}},892:function(l,c,d){Object.defineProperty(c,"__esModule",{value:!0}),c.useReactToPrint=void 0;var f=d(316),p=d(496),v=d(428),m=d(940),h=d(860),y=Object.prototype.hasOwnProperty.call(p,"useMemo")&&Object.prototype.hasOwnProperty.call(p,"useCallback");c.useReactToPrint=function(x){if(!y)return x.suppressErrors||console.error('"react-to-print" requires React ^16.8.0 to be able to use "useReactToPrint"'),function(){throw new Error('"react-to-print" requires React ^16.8.0 to be able to use "useReactToPrint"')};var S=p.useMemo(function(){return new v.ReactToPrint(f.__assign(f.__assign({},m.defaultProps),x))},[x]);return p.useCallback(function(b,g){return(0,h.wrapCallbackWithArgs)(S,S.handleClick,g)(b)},[S])}},860:function(l,c,d){Object.defineProperty(c,"__esModule",{value:!0}),c.wrapCallbackWithArgs=void 0;var f=d(316);c.wrapCallbackWithArgs=function(p,v){for(var m=[],h=2;h<arguments.length;h++)m[h-2]=arguments[h];return function(){for(var y=[],x=0;x<arguments.length;x++)y[x]=arguments[x];return v.apply(p,f.__spreadArray(f.__spreadArray([],f.__read(y),!1),f.__read(m),!1))}}},496:function(l){l.exports=r},190:function(l){l.exports=n},316:function(l,c,d){d.r(c),d.d(c,{__addDisposableResource:function(){return K},__assign:function(){return v},__asyncDelegator:function(){return se},__asyncGenerator:function(){return re},__asyncValues:function(){return Z},__await:function(){return ee},__awaiter:function(){return A},__classPrivateFieldGet:function(){return z},__classPrivateFieldIn:function(){return M},__classPrivateFieldSet:function(){return q},__createBinding:function(){return O},__decorate:function(){return h},__disposeResources:function(){return ae},__esDecorate:function(){return x},__exportStar:function(){return F},__extends:function(){return p},__generator:function(){return R},__importDefault:function(){return I},__importStar:function(){return T},__makeTemplateObject:function(){return le},__metadata:function(){return _},__param:function(){return y},__propKey:function(){return b},__read:function(){return L},__rest:function(){return m},__runInitializers:function(){return S},__setFunctionName:function(){return g},__spread:function(){return H},__spreadArray:function(){return Y},__spreadArrays:function(){return U},__values:function(){return N}});var f=function(w,C){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,$){P.__proto__=$}||function(P,$){for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(P[j]=$[j])},f(w,C)};function p(w,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");function P(){this.constructor=w}f(w,C),w.prototype=C===null?Object.create(C):(P.prototype=C.prototype,new P)}var v=function(){return v=Object.assign||function(w){for(var C,P=1,$=arguments.length;P<$;P++)for(var j in C=arguments[P])Object.prototype.hasOwnProperty.call(C,j)&&(w[j]=C[j]);return w},v.apply(this,arguments)};function m(w,C){var P={};for(var $ in w)Object.prototype.hasOwnProperty.call(w,$)&&C.indexOf($)<0&&(P[$]=w[$]);if(w!=null&&typeof Object.getOwnPropertySymbols=="function"){var j=0;for($=Object.getOwnPropertySymbols(w);j<$.length;j++)C.indexOf($[j])<0&&Object.prototype.propertyIsEnumerable.call(w,$[j])&&(P[$[j]]=w[$[j]])}return P}function h(w,C,P,$){var j,Q=arguments.length,V=Q<3?C:$===null?$=Object.getOwnPropertyDescriptor(C,P):$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")V=Reflect.decorate(w,C,P,$);else for(var ne=w.length-1;ne>=0;ne--)(j=w[ne])&&(V=(Q<3?j(V):Q>3?j(C,P,V):j(C,P))||V);return Q>3&&V&&Object.defineProperty(C,P,V),V}function y(w,C){return function(P,$){C(P,$,w)}}function x(w,C,P,$,j,Q){function V(Be){if(Be!==void 0&&typeof Be!="function")throw new TypeError("Function expected");return Be}for(var ne,E=$.kind,X=E==="getter"?"get":E==="setter"?"set":"value",B=!C&&w?$.static?w:w.prototype:null,G=C||(B?Object.getOwnPropertyDescriptor(B,$.name):{}),me=!1,_e=P.length-1;_e>=0;_e--){var $e={};for(var Ie in $)$e[Ie]=Ie==="access"?{}:$[Ie];for(var Ie in $.access)$e.access[Ie]=$.access[Ie];$e.addInitializer=function(Be){if(me)throw new TypeError("Cannot add initializers after decoration has completed");Q.push(V(Be||null))};var Re=(0,P[_e])(E==="accessor"?{get:G.get,set:G.set}:G[X],$e);if(E==="accessor"){if(Re===void 0)continue;if(Re===null||typeof Re!="object")throw new TypeError("Object expected");(ne=V(Re.get))&&(G.get=ne),(ne=V(Re.set))&&(G.set=ne),(ne=V(Re.init))&&j.unshift(ne)}else(ne=V(Re))&&(E==="field"?j.unshift(ne):G[X]=ne)}B&&Object.defineProperty(B,$.name,G),me=!0}function S(w,C,P){for(var $=arguments.length>2,j=0;j<C.length;j++)P=$?C[j].call(w,P):C[j].call(w);return $?P:void 0}function b(w){return typeof w=="symbol"?w:"".concat(w)}function g(w,C,P){return typeof C=="symbol"&&(C=C.description?"[".concat(C.description,"]"):""),Object.defineProperty(w,"name",{configurable:!0,value:P?"".concat(P," ",C):C})}function _(w,C){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(w,C)}function A(w,C,P,$){return new(P||(P=Promise))(function(j,Q){function V(X){try{E($.next(X))}catch(B){Q(B)}}function ne(X){try{E($.throw(X))}catch(B){Q(B)}}function E(X){var B;X.done?j(X.value):(B=X.value,B instanceof P?B:new P(function(G){G(B)})).then(V,ne)}E(($=$.apply(w,C||[])).next())})}function R(w,C){var P,$,j,Q,V={label:0,sent:function(){if(1&j[0])throw j[1];return j[1]},trys:[],ops:[]};return Q={next:ne(0),throw:ne(1),return:ne(2)},typeof Symbol=="function"&&(Q[Symbol.iterator]=function(){return this}),Q;function ne(E){return function(X){return function(B){if(P)throw new TypeError("Generator is already executing.");for(;Q&&(Q=0,B[0]&&(V=0)),V;)try{if(P=1,$&&(j=2&B[0]?$.return:B[0]?$.throw||((j=$.return)&&j.call($),0):$.next)&&!(j=j.call($,B[1])).done)return j;switch($=0,j&&(B=[2&B[0],j.value]),B[0]){case 0:case 1:j=B;break;case 4:return V.label++,{value:B[1],done:!1};case 5:V.label++,$=B[1],B=[0];continue;case 7:B=V.ops.pop(),V.trys.pop();continue;default:if(!((j=(j=V.trys).length>0&&j[j.length-1])||B[0]!==6&&B[0]!==2)){V=0;continue}if(B[0]===3&&(!j||B[1]>j[0]&&B[1]<j[3])){V.label=B[1];break}if(B[0]===6&&V.label<j[1]){V.label=j[1],j=B;break}if(j&&V.label<j[2]){V.label=j[2],V.ops.push(B);break}j[2]&&V.ops.pop(),V.trys.pop();continue}B=C.call(w,V)}catch(G){B=[6,G],$=0}finally{P=j=0}if(5&B[0])throw B[1];return{value:B[0]?B[1]:void 0,done:!0}}([E,X])}}}var O=Object.create?function(w,C,P,$){$===void 0&&($=P);var j=Object.getOwnPropertyDescriptor(C,P);j&&!("get"in j?!C.__esModule:j.writable||j.configurable)||(j={enumerable:!0,get:function(){return C[P]}}),Object.defineProperty(w,$,j)}:function(w,C,P,$){$===void 0&&($=P),w[$]=C[P]};function F(w,C){for(var P in w)P==="default"||Object.prototype.hasOwnProperty.call(C,P)||O(C,w,P)}function N(w){var C=typeof Symbol=="function"&&Symbol.iterator,P=C&&w[C],$=0;if(P)return P.call(w);if(w&&typeof w.length=="number")return{next:function(){return w&&$>=w.length&&(w=void 0),{value:w&&w[$++],done:!w}}};throw new TypeError(C?"Object is not iterable.":"Symbol.iterator is not defined.")}function L(w,C){var P=typeof Symbol=="function"&&w[Symbol.iterator];if(!P)return w;var $,j,Q=P.call(w),V=[];try{for(;(C===void 0||C-- >0)&&!($=Q.next()).done;)V.push($.value)}catch(ne){j={error:ne}}finally{try{$&&!$.done&&(P=Q.return)&&P.call(Q)}finally{if(j)throw j.error}}return V}function H(){for(var w=[],C=0;C<arguments.length;C++)w=w.concat(L(arguments[C]));return w}function U(){for(var w=0,C=0,P=arguments.length;C<P;C++)w+=arguments[C].length;var $=Array(w),j=0;for(C=0;C<P;C++)for(var Q=arguments[C],V=0,ne=Q.length;V<ne;V++,j++)$[j]=Q[V];return $}function Y(w,C,P){if(P||arguments.length===2)for(var $,j=0,Q=C.length;j<Q;j++)!$&&j in C||($||($=Array.prototype.slice.call(C,0,j)),$[j]=C[j]);return w.concat($||Array.prototype.slice.call(C))}function ee(w){return this instanceof ee?(this.v=w,this):new ee(w)}function re(w,C,P){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $,j=P.apply(w,C||[]),Q=[];return $={},V("next"),V("throw"),V("return"),$[Symbol.asyncIterator]=function(){return this},$;function V(G){j[G]&&($[G]=function(me){return new Promise(function(_e,$e){Q.push([G,me,_e,$e])>1||ne(G,me)})})}function ne(G,me){try{(_e=j[G](me)).value instanceof ee?Promise.resolve(_e.value.v).then(E,X):B(Q[0][2],_e)}catch($e){B(Q[0][3],$e)}var _e}function E(G){ne("next",G)}function X(G){ne("throw",G)}function B(G,me){G(me),Q.shift(),Q.length&&ne(Q[0][0],Q[0][1])}}function se(w){var C,P;return C={},$("next"),$("throw",function(j){throw j}),$("return"),C[Symbol.iterator]=function(){return this},C;function $(j,Q){C[j]=w[j]?function(V){return(P=!P)?{value:ee(w[j](V)),done:!1}:Q?Q(V):V}:Q}}function Z(w){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var C,P=w[Symbol.asyncIterator];return P?P.call(w):(w=N(w),C={},$("next"),$("throw"),$("return"),C[Symbol.asyncIterator]=function(){return this},C);function $(j){C[j]=w[j]&&function(Q){return new Promise(function(V,ne){(function(E,X,B,G){Promise.resolve(G).then(function(me){E({value:me,done:B})},X)})(V,ne,(Q=w[j](Q)).done,Q.value)})}}}function le(w,C){return Object.defineProperty?Object.defineProperty(w,"raw",{value:C}):w.raw=C,w}var be=Object.create?function(w,C){Object.defineProperty(w,"default",{enumerable:!0,value:C})}:function(w,C){w.default=C};function T(w){if(w&&w.__esModule)return w;var C={};if(w!=null)for(var P in w)P!=="default"&&Object.prototype.hasOwnProperty.call(w,P)&&O(C,w,P);return be(C,w),C}function I(w){return w&&w.__esModule?w:{default:w}}function z(w,C,P,$){if(P==="a"&&!$)throw new TypeError("Private accessor was defined without a getter");if(typeof C=="function"?w!==C||!$:!C.has(w))throw new TypeError("Cannot read private member from an object whose class did not declare it");return P==="m"?$:P==="a"?$.call(w):$?$.value:C.get(w)}function q(w,C,P,$,j){if($==="m")throw new TypeError("Private method is not writable");if($==="a"&&!j)throw new TypeError("Private accessor was defined without a setter");if(typeof C=="function"?w!==C||!j:!C.has(w))throw new TypeError("Cannot write private member to an object whose class did not declare it");return $==="a"?j.call(w,P):j?j.value=P:C.set(w,P),P}function M(w,C){if(C===null||typeof C!="object"&&typeof C!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof w=="function"?C===w:w.has(C)}function K(w,C,P){if(C!=null){if(typeof C!="object"&&typeof C!="function")throw new TypeError("Object expected.");var $;if(P){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");$=C[Symbol.asyncDispose]}if($===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");$=C[Symbol.dispose]}if(typeof $!="function")throw new TypeError("Object not disposable.");w.stack.push({value:C,dispose:$,async:P})}else P&&w.stack.push({async:!0});return C}var te=typeof SuppressedError=="function"?SuppressedError:function(w,C,P){var $=new Error(P);return $.name="SuppressedError",$.error=w,$.suppressed=C,$};function ae(w){function C(P){w.error=w.hasError?new te(P,w.error,"An error was suppressed during disposal."):P,w.hasError=!0}return function P(){for(;w.stack.length;){var $=w.stack.pop();try{var j=$.dispose&&$.dispose.call($.value);if($.async)return Promise.resolve(j).then(P,function(Q){return C(Q),P()})}catch(Q){C(Q)}}if(w.hasError)throw w.error}()}c.default={__extends:p,__assign:v,__rest:m,__decorate:h,__param:y,__metadata:_,__awaiter:A,__generator:R,__createBinding:O,__exportStar:F,__values:N,__read:L,__spread:H,__spreadArrays:U,__spreadArray:Y,__await:ee,__asyncGenerator:re,__asyncDelegator:se,__asyncValues:Z,__makeTemplateObject:le,__importStar:T,__importDefault:I,__classPrivateFieldGet:z,__classPrivateFieldSet:q,__classPrivateFieldIn:M,__addDisposableResource:K,__disposeResources:ae}}},o={};function i(l){var c=o[l];if(c!==void 0)return c.exports;var d=o[l]={exports:{}};return a[l](d,d.exports,i),d.exports}i.d=function(l,c){for(var d in c)i.o(c,d)&&!i.o(l,d)&&Object.defineProperty(l,d,{enumerable:!0,get:c[d]})},i.o=function(l,c){return Object.prototype.hasOwnProperty.call(l,c)},i.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})};var s={};return function(){var l=s;Object.defineProperty(l,"__esModule",{value:!0}),l.useReactToPrint=l.ReactToPrint=l.PrintContextConsumer=void 0;var c=i(328);Object.defineProperty(l,"PrintContextConsumer",{enumerable:!0,get:function(){return c.PrintContextConsumer}});var d=i(428);Object.defineProperty(l,"ReactToPrint",{enumerable:!0,get:function(){return d.ReactToPrint}});var f=i(892);Object.defineProperty(l,"useReactToPrint",{enumerable:!0,get:function(){return f.useReactToPrint}});var p=i(428);l.default=p.ReactToPrint}(),s}()})})(yi);var rw=yi.exports;const nw=Fe(rw);function bi({data:e,salary:t}){return u.jsx(Rs,{component:Ha,children:u.jsxs(js,{size:"small","aria-label":"a dense table",children:[u.jsx(ks,{children:u.jsxs(qe,{children:[u.jsx(we,{children:"Salary Head"}),u.jsx(we,{align:"left",children:"Amount"})]})}),u.jsx(Is,{children:e&&e.length>0&&u.jsxs(u.Fragment,{children:[u.jsxs(qe,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[u.jsx(we,{component:"th",scope:"row",align:"left",children:"Base Salary"}),u.jsx(we,{align:"left",children:t.base.toFixed(2)})]}),u.jsxs(qe,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[u.jsx(we,{component:"th",scope:"row",align:"left",children:"Deductions"}),u.jsx(we,{align:"left",children:e[0].deductions.toFixed(2)})]}),u.jsxs(qe,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[u.jsx(we,{component:"th",scope:"row",align:"left",children:"Increament"}),u.jsx(we,{align:"left",children:0})]}),u.jsxs(qe,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[u.jsx(we,{component:"th",scope:"row",align:"left",children:"Allowance"}),u.jsx(we,{align:"left",children:0})]}),u.jsxs(qe,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[u.jsx(we,{component:"th",scope:"row",align:"left",children:"HRA"}),u.jsx(we,{align:"left",children:0})]}),u.jsxs(qe,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[u.jsx(we,{component:"th",scope:"row",align:"left",children:"Overtime"}),u.jsx(we,{align:"left",children:0})]}),u.jsxs(qe,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[u.jsx(we,{component:"th",scope:"row",align:"left",children:"Additional Settlements"}),u.jsx(we,{align:"left",children:0})]}),u.jsxs(qe,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[u.jsx(we,{component:"th",scope:"row",align:"left",children:"Net Salary"}),u.jsx(we,{align:"left",children:(t.base.toFixed(2)-e[0].deductions.toFixed(2)).toFixed(2)})]})]})})]})})}bi.propTypes={data:k.any,salary:k.number};const wi=W.forwardRef((e,t)=>{const r=pt(l=>l.user.token),[n,a]=W.useState(Qe(new Date)),[o,i]=W.useState(n),{data:s}=Ua({token:r,id:e.id,month:o.month(),year:o.year()});return W.useEffect(()=>{let l=n.clone();l.month()===0?l=l.subtract(1,"year").month(11):l=l.subtract(1,"month"),i(l)},[n]),u.jsx("div",{ref:t,style:{padding:"20px"},children:u.jsxs(de,{direction:"column",alignItems:"flex-start",spacing:2,children:[u.jsx(J,{variant:"h4",gutterBottom:!0,alignSelf:"center",children:"Company Name"}),u.jsxs(J,{variant:"h5",gutterBottom:!0,alignSelf:"center",children:["Salary Slip of"," ",`${o.format("MMM YYYY")}`]}),u.jsxs(de,{direction:"row",spacing:2,alignItems:"center",children:[u.jsx(J,{variant:"h6",children:"Employee ID : "}),u.jsx(J,{variant:"body2",children:e.employeeId})]}),u.jsxs(de,{direction:"row",spacing:2,alignItems:"center",children:[u.jsx(J,{variant:"h6",children:"Employee Name : "}),u.jsx(J,{variant:"body2",children:e.name})]}),u.jsxs(de,{direction:"row",spacing:2,alignItems:"center",children:[u.jsx(J,{variant:"h6",children:"Department : "}),u.jsx(J,{variant:"body2",children:e.department})]}),u.jsx(de,{direction:"row",spacing:2,alignItems:"center",children:u.jsx(Xt,{dateAdapter:Qt,children:u.jsx(Zt,{components:["DatePicker"],children:u.jsx(Jt,{format:"DD/MM/YYYY",label:"Date",value:n,onChange:l=>{a(l)}})})})}),u.jsx(bi,{data:s?s.attendanceSummary:null,salary:s?s.user.salary:0})]})})});wi.propTypes={id:k.any,employeeId:k.any,name:k.string,department:k.string};const Si=({id:e,name:t,employeeId:r,department:n})=>{const a=W.useRef();return u.jsxs("div",{children:[u.jsx(wi,{ref:a,id:e,name:t,employeeId:r,department:n}),u.jsx(nw,{trigger:()=>u.jsx(We,{sx:{marginTop:"30px",fontSize:"17px"},children:"Download"}),content:()=>a.current})]})},aw=Si;Si.propTypes={id:k.any,employeeId:k.any,name:k.string,department:k.string};function xi({summary:e,id:t,employeeId:r,name:n,department:a}){const o=pt(g=>g.user.user),[i,s]=W.useState(!1),l=()=>{s(null)},c=()=>{const g={Approved:0,Rejected:0,Pending:0};return e&&e.leaveSummary&&e.leaveSummary.forEach(_=>{g[_._id]=_.total}),g},d=()=>{const g={Present:0,Absent:0,Holiday:0,"Half Day":0,"Medical Leave":0,"Casual Leave":0};return e&&e.status&&e.status.forEach(_=>{g[_._id]=_.total}),g},{Approved:f,Rejected:p,Pending:v}=c(),m=d(),{Present:h,Absent:y,Holiday:x}=m,S=m["Half Day"],b=m["Medical Leave"]+m["Casual Leave"];return e?u.jsxs(to,{sx:{padding:"30px",display:"flex",flexDirection:"column",gap:"20px",flexGrow:1},children:[u.jsx(J,{variant:"h4",children:"Summary"}),u.jsxs(oe,{container:!0,spacing:{xs:3,sm:2,md:1},children:[(o.role==="HR"||o._id===t)&&u.jsxs(oe,{item:!0,xs:12,sm:6,md:4,children:[u.jsxs(de,{direction:"row",spacing:2,alignItems:"center",children:[u.jsx(J,{variant:"h6",children:"Base Salary: "}),u.jsx(J,{variant:"body2",children:e.salary.base.toFixed(2)})]}),u.jsxs(de,{direction:"row",spacing:2,alignItems:"center",children:[u.jsx(J,{variant:"h6",children:"Effective Salary: "}),u.jsx(J,{variant:"body2",children:e.attendanceSummary.length>0?(e.salary.base.toFixed(2)-e.attendanceSummary[0].deductions.toFixed(2)).toFixed(2):0})]}),u.jsxs(de,{direction:"row",spacing:2,alignItems:"center",children:[u.jsx(J,{variant:"h6",children:"Deductions: "}),u.jsx(J,{variant:"body2",children:e.attendanceSummary.length>0?e.attendanceSummary[0].deductions.toFixed(2):0})]}),u.jsxs(de,{direction:"row",spacing:2,alignItems:"center",children:[u.jsx(J,{variant:"h6",children:"Last Updated: "}),u.jsx(J,{variant:"body2",children:e.salary.lastUpdated?ar(e.salary.lastUpdated,"dd/MM/yyyy"):"No payment yet!"})]}),u.jsx(We,{sx:{marginTop:"30px",fontSize:"17px"},onClick:g=>s(g.target),children:"View Receipt"}),i&&u.jsx(Ba,{onClickAway:l,children:u.jsx(Vi,{open:!!i,anchorEl:i,onClose:l,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},PaperProps:{sx:{width:"600px",padding:"20px"}},children:u.jsx(aw,{id:t,name:n,employeeId:r,department:a})})})]}),u.jsxs(oe,{item:!0,xs:12,sm:6,md:4,children:[u.jsxs(de,{direction:"row",spacing:2,alignItems:"center",children:[u.jsx(J,{variant:"h6",children:"Leaves Applied: "}),u.jsx(J,{variant:"body2",children:f+v+p})]}),u.jsxs(de,{direction:"row",spacing:2,alignItems:"center",children:[u.jsx(J,{variant:"h6",children:"Leaves Approved: "}),u.jsx(J,{variant:"body2",children:f})]}),u.jsxs(de,{direction:"row",spacing:2,alignItems:"center",children:[u.jsx(J,{variant:"h6",children:"Leaves Pending: "}),u.jsx(J,{variant:"body2",children:v})]}),u.jsxs(de,{direction:"row",spacing:1,alignItems:"center",children:[u.jsx(J,{variant:"h6",children:"Leaves Rejected: "}),u.jsx(J,{variant:"body2",children:p})]})]}),u.jsxs(oe,{item:!0,xs:12,sm:6,md:4,children:[u.jsxs(de,{direction:"row",spacing:2,alignItems:"center",children:[u.jsx(J,{variant:"h6",children:"Present: "}),u.jsxs(J,{variant:"body2",children:[h," days"]})]}),u.jsxs(de,{direction:"row",spacing:2,alignItems:"center",children:[u.jsx(J,{variant:"h6",children:"Absent: "}),u.jsxs(J,{variant:"body2",children:[y," days"]})]}),u.jsxs(de,{direction:"row",spacing:2,alignItems:"center",children:[u.jsx(J,{variant:"h6",children:"Half Day: "}),u.jsxs(J,{variant:"body2",children:[S," days"]})]}),u.jsxs(de,{direction:"row",spacing:2,alignItems:"center",children:[u.jsx(J,{variant:"h6",children:"On Leave: "}),u.jsxs(J,{variant:"body2",children:[b," days"]})]}),u.jsxs(de,{direction:"row",spacing:2,alignItems:"center",children:[u.jsx(J,{variant:"h6",children:"Holiday: "}),u.jsxs(J,{variant:"body2",children:[x," days"]})]})]})]})]}):u.jsx(J,{variant:"h3",children:"Loading Summary..."})}xi.propTypes={summary:k.any,id:k.any,employeeId:k.any,name:k.string,department:k.string};function ow(){const e=pt(E=>E.user.token),t=pt(E=>E.user.user),{id:r}=Xi(),[n,a]=W.useState({month:new Date().getMonth(),year:new Date().getFullYear()}),{data:o,error:i,refetch:s}=Ua({token:e,id:r,month:n.month,year:n.year}),{data:l,error:c,refetch:d}=Qi({token:e,id:r}),[f,p]=W.useState(!0),{data:v,error:m}=Zi({token:e},{skip:f});W.useEffect(()=>{t&&(t.role==="HR"||t.department.pseudoAdmin)&&p(!1)},[t]);const[h,{isLoading:y,data:x,error:S}]=Ji(),b=W.useRef(),g=rn(),_=es(),[A,R]=W.useState({employeeId:"",firstName:"",lastName:"",gender:"Male",email:"",phone:"",whatsApp:"",dob:"",local:"",city:"",state:"",pincode:"",commLocal:"",commCity:"",commState:"",commPincode:"",role:"",departmentId:"",salary:"",hike:"",qatarId:"",qatarExpiryDate:"",passportId:"",passportExpiryDate:""}),[O,F]=W.useState(A),[N,L]=W.useState(null),[H,U]=W.useState({profilePic:!1,qatarDoc:!1,passportDoc:!1}),Y=(E,X)=>{F({...O,[E]:X})},[ee,re]=W.useState(""),[se,Z]=W.useState(""),[le,be]=W.useState(null),[T,I]=W.useState({doc:null,url:""}),[z,q]=W.useState({doc:null,url:""}),[M,K]=W.useState(!1),te={open:!1,mssg:"",bgColor:g.palette.error.dark,anchorOrigin:{vertical:"top",horizontal:"right"}},[ae,w]=W.useState(te),C=()=>{b.current.click()},P=E=>{const X=E.target.files[0];X&&(be({file:X,url:Ar(X)}),U({...H,profilePic:!0}))},$=()=>{const E=new FormData,X={};let B=!0;if(Object.keys(O).forEach(G=>{if(O[G]===""){B=!1;return}if(G==="email"){if(!as.isEmail(O[G])){B=!1;return}O[G]!==A[G]&&(X[G]=O[G])}else if(G==="dob"||G==="qatarExpiryDate"||G==="passportExpiryDate"){const me=ar(new Date(O[G]),"dd/MM/yyyy");me!==ar(new Date(A[G]),"dd/MM/yyyy")&&(X[G]=me)}else if(G==="departmentId"){const me=O[G].split("^")[0];O[G]!==A[G]&&(X.department=me)}else O[G]!==A[G]&&(X[G]=O[G])}),!B){w({open:!0,mssg:"All fields are mandatory",bgColor:g.palette.error.dark,anchorOrigin:{vertical:"top",horizontal:"right"}});return}if(ee!=="")if(ee===se)X.password=ee;else{w({open:!0,mssg:"Password Mismatch",bgColor:g.palette.error.dark,anchorOrigin:{vertical:"top",horizontal:"right"}});return}H.profilePic&&E.append("profilePicture",le.file),H.qatarDoc&&E.append("qatarDoc",T.doc),H.passportDoc&&E.append("passportDoc",z.doc),E.append("update",JSON.stringify(X)),h({body:E,token:e,id:r})},j=u.jsxs(u.Fragment,{children:[u.jsx(We,{disabled:!M,variant:"contained",color:"primary",onClick:C,startIcon:u.jsx(Hr,{}),sx:{width:"150px",marginLeft:"25px"},children:"Upload Pic"}),u.jsx("input",{ref:b,type:"file",style:{display:"none"},onChange:P})]}),Q=E=>{const X=E.target.files[0];if(X){const B=X.name.toLowerCase();!B.endsWith(".jpg")&&!B.endsWith(".jpeg")&&!B.endsWith(".png")?w({open:!0,mssg:"Only jpg/jpeg/png file is allowed!",bgColor:g.palette.error.dark,anchorOrigin:{vertical:"top",horizontal:"right"}}):(I({doc:X,url:Ar(X)}),U({...H,qatarDoc:!0}))}},V=E=>{const X=E.target.files[0];if(X){const B=X.name.toLowerCase();!B.endsWith(".jpg")&&!B.endsWith(".jpeg")&&!B.endsWith(".png")?w({open:!0,mssg:"Only jpg/jpeg/png file is allowed!",bgColor:g.palette.error.dark,anchorOrigin:{vertical:"top",horizontal:"right"}}):(q({doc:X,url:Ar(X)}),U({...H,passportDoc:!0}))}};W.useEffect(()=>{if(m){let E="";m.status==="FETCH_ERROR"?E="Server is not responding!":E="Unable to fetch department list",w({open:!0,mssg:E,bgColor:g.palette.error.dark,anchorOrigin:{vertical:"top",horizontal:"right"}}),console.error(m)}if(v)if(v.departments.length>0){const{_id:E,name:X}=v.departments[0];E&&X&&F(B=>({...B,departmentId:`${E}^${X}`}))}else F(E=>({...E,departmentId:""})),w({open:!0,mssg:"Warning! No department found",bgColor:g.palette.error.dark,anchorOrigin:{vertical:"top",horizontal:"right"}})},[m,v,g]),W.useEffect(()=>{if(S){console.log(S);let E="";S.status==="FETCH_ERROR"?E="Server is not responding!":E=S.data.error,w({open:!0,mssg:E,bgColor:g.palette.error.dark,anchorOrigin:{vertical:"top",horizontal:"right"}})}x&&(w({open:!0,mssg:"Profille Updated",bgColor:g.palette.success.dark,anchorOrigin:{vertical:"top",horizontal:"right"}}),K(E=>!E),d())},[S,x,_,g,d]),W.useEffect(()=>{if(c){let E="";c.status==="FETCH_ERROR"?E="Server is not responding!":E="Unable to fetch user details",w({open:!0,mssg:E,bgColor:g.palette.error.dark,anchorOrigin:{vertical:"top",horizontal:"right"}})}if(l&&!M){const{user:E}=l,{local:X,pincode:B,state:G,city:me}=E.address,{local:_e,pincode:$e,state:Ie,city:Re}=E.commAddress,Be=Tr(E.profilePic),Pr=Tr(E.qatarDocs.file),Ce=Tr(E.passportDocs.file);be({file:E.profilePic,url:Be}),I({doc:E.qatarDocs.file,url:Pr}),q({doc:E.passportDocs.file,url:Ce}),R({...E,firstName:E.name.firstName,lastName:E.name.lastName,local:X,pincode:B,city:me,state:G,commLocal:_e,commCity:Re,commPincode:$e,commState:Ie,departmentId:E.department?`${E.department._id}^${E.department.name}`:"",dob:Qe(E.dob),salary:E.salary.base,hike:E.salary.hike,qatarId:E.qatarDocs.id,passportId:E.passportDocs.id,qatarExpiryDate:Qe(E.qatarDocs.expiryDate),passportExpiryDate:Qe(E.passportDocs.expiryDate)}),F({...E,firstName:E.name.firstName,lastName:E.name.lastName,local:X,pincode:B,city:me,state:G,commLocal:_e,commCity:Re,commPincode:$e,commState:Ie,departmentId:E.department?`${E.department._id}^${E.department.name}`:"",dob:Qe(E.dob),salary:E.salary.base,hike:E.salary.hike,qatarId:E.qatarDocs.id,passportId:E.passportDocs.id,qatarExpiryDate:Qe(E.qatarDocs.expiryDate),passportExpiryDate:Qe(E.passportDocs.expiryDate)})}},[l,c,g,M]),W.useEffect(()=>{if(i){let E="";i.status==="FETCH_ERROR"?E="Server is not responding!":E="Unable to fetch user details",w({open:!0,mssg:E,bgColor:g.palette.error.dark,anchorOrigin:{vertical:"top",horizontal:"right"}})}if(o&&!M){const{user:E,leaveSummary:X,attendanceSummary:B,status:G}=o;L({attendanceSummary:B,leaveSummary:X,salary:E.salary,status:G})}},[o,i,g,M]);const ne=()=>t&&t.role!=="HR"&&!t.department.pseudoAdmin?u.jsx(ke,{value:`${t.department._id}^${t.department.name}`,children:t.department.name}):v?v.departments.map(E=>u.jsx(ke,{value:`${E._id}^${E.name}`,children:E.name},E._id)):u.jsx(ke,{value:"",children:" "});return u.jsxs(Ns,{children:[u.jsx(os,{open:ae.open,mssg:ae.mssg,bgColor:ae.bgColor,closeSnackbar:()=>{w(te)},severity:"error",anchorOrigin:ae.anchorOrigin}),u.jsxs(de,{direction:"row",alignItems:"center",justifyContent:"space-between",mb:5,children:[u.jsx(J,{variant:"h4",children:M?"Update User":"User Profile"}),t&&(t.role==="HR"||t.department.pseudoAdmin)&&u.jsxs(de,{direction:"row",spacing:2,children:[u.jsx(Cn,{title:"Email",children:u.jsx(Pn,{disabled:M,component:On,href:`mailto:${O.email}`,children:u.jsx(tw,{})})}),u.jsx(Cn,{title:"Whatsapp",children:u.jsx(Pn,{disabled:M,component:On,href:`whatsapp://send?phone=+91${O.whatsApp}`,children:u.jsx(ew,{})})}),u.jsx(We,{variant:"contained",onClick:()=>K(!M),children:M?"Cancel":"Edit"})]})]}),u.jsxs(de,{direction:{xs:"column",md:"row"},gap:1,justifyContent:"space-between",alignItems:"flex-start",width:"100%",children:[u.jsxs(de,{direction:"column",gap:"20px",width:"250px",alignItems:"flex-start",sx:{alignSelf:"center"},children:[u.jsx($r,{sx:{height:"200px",width:"200px"},src:le&&le.url}),t&&(t.role==="HR"||t.department.pseudoAdmin)&&j]}),u.jsx(xi,{summary:N,id:r,name:`${O.firstName} ${O.lastName}`,employeeId:O.employeeId,department:O.departmentId.split("^")[1]})]}),u.jsx(Xe,{children:u.jsx(oe,{container:!0,spacing:2,alignItems:"stretch",children:u.jsx(oe,{item:!0,xs:12,children:u.jsx(Jb,{id:r,setSnackbar:w,refetchUser:s,setMonthYear:a,month:n.month,year:n.year})})})}),u.jsxs(to,{sx:{padding:"30px",display:"flex",flexDirection:"column",gap:"50px",marginTop:"50px"},children:[u.jsxs(Xe,{children:[u.jsx(J,{gutterBottom:!0,variant:"h5",color:g.palette.grey[500],children:"Personal Information"}),u.jsxs(oe,{container:!0,spacing:2,alignItems:"stretch",children:[u.jsxs(oe,{item:!0,xs:12,sm:6,children:[u.jsx(ve,{id:"employeeid",children:"Employee ID"}),u.jsx(ge,{disabled:!M,labelId:"employeeid",fullWidth:!0,placeholder:"Employee ID",value:O.employeeId,onChange:E=>{Y("employeeId",E.target.value)}})]}),u.jsxs(oe,{item:!0,xs:12,sm:6,children:[u.jsx(ve,{id:"firstname",children:"First Name"}),u.jsx(ge,{disabled:!M,labelId:"firstname",fullWidth:!0,placeholder:"First Name",value:O.firstName,onChange:E=>{Y("firstName",E.target.value)}})]}),u.jsxs(oe,{item:!0,xs:12,sm:6,children:[u.jsx(ve,{id:"lastname",children:"Last Name"}),u.jsx(ge,{disabled:!M,labelId:"lastname",fullWidth:!0,placeholder:"Last Name",value:O.lastName,onChange:E=>{Y("lastName",E.target.value)}})]}),u.jsxs(oe,{item:!0,xs:12,sm:6,children:[u.jsx(ve,{id:"gender",children:"Gender"}),u.jsxs(Tn,{disabled:!M,labelId:"gender",fullWidth:!0,label:"Gender",value:O.gender,onChange:E=>{Y("gender",E.target.value)},children:[u.jsx(ke,{value:"Male",children:"Male"}),u.jsx(ke,{value:"Female",children:"Female"})]})]}),u.jsxs(oe,{item:!0,xs:12,sm:6,children:[u.jsx(ve,{id:"email",children:"Email"}),u.jsx(ge,{disabled:!M,labelId:"email",fullWidth:!0,placeholder:"Email",type:"email",value:O.email,onChange:E=>{Y("email",E.target.value)}})]}),u.jsxs(oe,{item:!0,xs:12,sm:6,children:[u.jsx(ve,{id:"phone",children:"Phone"}),u.jsx(ge,{disabled:!M,labelId:"phone",fullWidth:!0,placeholder:"Phone",type:"number",value:O.phone,onChange:E=>{Y("phone",E.target.value)}})]}),u.jsxs(oe,{item:!0,xs:12,sm:6,children:[u.jsx(ve,{id:"whatsapp",children:"Whatsapp No."}),u.jsx(ge,{disabled:!M,labelId:"whatsapp",fullWidth:!0,placeholder:"WhatsApp",type:"number",value:O.whatsApp,onChange:E=>{Y("whatsApp",E.target.value)}})]}),u.jsxs(oe,{item:!0,xs:12,sm:6,children:[u.jsx(ve,{id:"dob",children:"Date Of Birth"}),u.jsx(Xt,{dateAdapter:Qt,children:u.jsx(Zt,{components:["DatePicker"],children:u.jsx(Jt,{disabled:!M,labelId:"dob",format:"DD/MM/YYYY",label:"Date Of Birth",disableFuture:!0,sx:{width:"100%"},value:O.dob===""?null:O.dob,onChange:E=>{Y("dob",E)}})})})]})]})]}),t&&(t.role==="HR"||t.department.pseudoAdmin)&&u.jsxs(Xe,{children:[u.jsx(J,{gutterBottom:!0,variant:"h5",color:g.palette.grey[500],children:"Change Password"}),u.jsxs(oe,{container:!0,spacing:2,alignItems:"stretch",children:[u.jsxs(oe,{item:!0,xs:12,sm:6,children:[u.jsx(ve,{id:"password",children:"New Password"}),u.jsx(ge,{disabled:!M,labelId:"password",fullWidth:!0,type:"password",placeholder:"New Password",value:ee,onChange:E=>re(E.target.value)})]}),u.jsxs(oe,{item:!0,xs:12,sm:6,children:[u.jsx(ve,{id:"confirmPassword",children:"Confirm Password"}),u.jsx(ge,{disabled:!M,labelId:"confirmPassword",type:"password",fullWidth:!0,placeholder:"Confirm Password",value:se,onChange:E=>Z(E.target.value)})]})]})]}),u.jsxs(Xe,{children:[u.jsx(J,{gutterBottom:!0,variant:"h5",color:g.palette.grey[500],children:"Homeland Address"}),u.jsxs(oe,{container:!0,spacing:2,alignItems:"stretch",children:[u.jsxs(oe,{item:!0,xs:8,children:[u.jsx(ve,{id:"local",children:"Enter Your Homeland Address"}),u.jsx(ge,{disabled:!M,labelId:"local",fullWidth:!0,placeholder:"Enter your homeland address",value:O.local,onChange:E=>{Y("local",E.target.value)}})]}),u.jsxs(oe,{item:!0,xs:4,children:[u.jsx(ve,{id:"pincode",children:"Pin Code"}),u.jsx(ge,{disabled:!M,labelId:"pincode",fullWidth:!0,placeholder:"Pin code",type:"number",value:O.pincode,onChange:E=>{Y("pincode",E.target.value)}})]}),u.jsxs(oe,{item:!0,xs:12,sm:6,children:[u.jsx(ve,{id:"city",children:"City"}),u.jsx(ge,{disabled:!M,labelId:"city",fullWidth:!0,placeholder:"City",value:O.city,onChange:E=>{Y("city",E.target.value)}})]}),u.jsxs(oe,{item:!0,xs:12,sm:6,children:[u.jsx(ve,{id:"state",children:"State"}),u.jsx(ge,{disabled:!M,labelId:"state",fullWidth:!0,placeholder:"State",value:O.state,onChange:E=>{Y("state",E.target.value)}})]})]})]}),u.jsxs(Xe,{children:[u.jsx(J,{gutterBottom:!0,variant:"h5",color:g.palette.grey[500],children:"Communication Address"}),u.jsxs(oe,{container:!0,spacing:2,alignItems:"stretch",children:[u.jsxs(oe,{item:!0,xs:8,children:[u.jsx(ve,{id:"commlocal",children:"Enter Your Communication Address"}),u.jsx(ge,{disabled:!M,labelId:"commlocal",fullWidth:!0,placeholder:"Enter your communication address",value:O.commLocal,onChange:E=>{Y("commLocal",E.target.value)}})]}),u.jsxs(oe,{item:!0,xs:4,children:[u.jsx(ve,{id:"commpincode",children:"Pin Code"}),u.jsx(ge,{disabled:!M,labelId:"commpincode",fullWidth:!0,placeholder:"Pin code",type:"number",value:O.commPincode,onChange:E=>{Y("commPincode",E.target.value)}})]}),u.jsxs(oe,{item:!0,xs:12,sm:6,children:[u.jsx(ve,{id:"commCity",children:"City"}),u.jsx(ge,{disabled:!M,labelId:"commCity",fullWidth:!0,placeholder:"City",value:O.commCity,onChange:E=>{Y("commCity",E.target.value)}})]}),u.jsxs(oe,{item:!0,xs:12,sm:6,children:[u.jsx(ve,{id:"commState",children:"State"}),u.jsx(ge,{disabled:!M,labelId:"commState",fullWidth:!0,placeholder:"State",value:O.commState,onChange:E=>{Y("commState",E.target.value)}})]})]})]}),u.jsxs(Xe,{children:[u.jsx(J,{gutterBottom:!0,variant:"h5",color:g.palette.grey[500],children:"Legal Documents"}),u.jsxs(de,{direction:{xs:"column",md:"row"},gap:{xs:"10px",md:"40px"},mt:{xs:"50px",md:"30px"},alignItems:"center",children:[u.jsx($r,{src:T.url,alt:T.doc?T.doc.name:"Qatar Document",children:"Q"}),u.jsx(ge,{disabled:!M,type:"text",placeholder:"Qatar ID Number",value:O.qatarId,onChange:E=>Y("qatarId",E.target.value)}),u.jsxs(We,{component:"label",disabled:!M,variant:"contained",tabIndex:-1,startIcon:u.jsx(Hr,{}),children:["Upload Image",u.jsx("input",{type:"file",onChange:Q,style:{display:"none"}})]}),u.jsx(Xt,{dateAdapter:Qt,children:u.jsx(Zt,{components:["DatePicker"],sx:{padding:0},children:u.jsx(Jt,{format:"DD/MM/YYYY",disabled:!M,label:"Expiry Date",disablePast:!0,sx:{width:"100%"},value:O.qatarExpiryDate===""?null:O.qatarExpiryDate,onChange:E=>Y("qatarExpiryDate",E)})})}),u.jsx(We,{onClick:()=>window.open(T.url,"_blank"),children:"View"})]}),u.jsxs(de,{direction:{xs:"column",md:"row"},gap:{xs:"10px",md:"40px"},mt:{xs:"50px",md:"30px"},alignItems:"center",children:[u.jsx($r,{src:z.url,alt:z.doc?z.doc.name:"Passport Document",children:"P"}),u.jsx(ge,{disabled:!M,type:"text",placeholder:"Passport ID Number",value:O.passportId,onChange:E=>Y("passportId",E.target.value)}),u.jsxs(We,{component:"label",disabled:!M,variant:"contained",tabIndex:-1,startIcon:u.jsx(Hr,{}),children:["Upload Image",u.jsx("input",{type:"file",onChange:V,style:{display:"none"}})]}),u.jsx(Xt,{dateAdapter:Qt,children:u.jsx(Zt,{components:["DatePicker"],sx:{padding:0},children:u.jsx(Jt,{disabled:!M,format:"DD/MM/YYYY",label:"Expiry Date",disablePast:!0,sx:{width:"100%"},value:O.passportExpiryDate===""?null:O.passportExpiryDate,onChange:E=>Y("passportExpiryDate",E)})})}),u.jsx(We,{onClick:()=>window.open(z.url,"_blank"),children:"View"})]})]}),u.jsxs(Xe,{children:[u.jsx(J,{gutterBottom:!0,variant:"h5",color:g.palette.grey[500],children:"Other Information"}),u.jsxs(oe,{container:!0,spacing:2,alignItems:"stretch",children:[u.jsxs(oe,{item:!0,xs:12,sm:6,children:[u.jsx(ve,{id:"role",children:"Employee Role"}),u.jsx(ge,{disabled:!M,labelId:"role",fullWidth:!0,placeholder:"Employee Role",value:O.role,onChange:E=>{Y("role",E.target.value)}})]}),u.jsxs(oe,{item:!0,xs:12,sm:6,children:[u.jsx(ve,{id:"department",children:"Department"}),u.jsx(Tn,{disabled:!M,labelId:"department",fullWidth:!0,label:"Department",value:O.departmentId,onChange:E=>{const[X,B]=E.target.value.split("^");Y("departmentId",`${X}^${B}`)},children:ne()})]}),t&&(t.role==="HR"||!t.department.pseudoAdmin||t._id===r)&&u.jsxs(u.Fragment,{children:[u.jsxs(oe,{item:!0,xs:12,sm:6,children:[u.jsx(ve,{id:"salary",children:"Base Salary (per month)"}),u.jsx(ge,{disabled:!M,labelId:"salary",fullWidth:!0,placeholder:"Base Salary (per month)",type:"number",value:O.salary,onChange:E=>{Y("salary",E.target.value)}})]}),u.jsxs(oe,{item:!0,xs:12,sm:6,children:[u.jsx(ve,{id:"hike",children:"Salary Hike (yearly in %)"}),u.jsx(ge,{disabled:!M,labelId:"hike",fullWidth:!0,placeholder:"Salary Hike (yearly in %)",type:"number",value:O.hike,onChange:E=>{Y("hike",E.target.value)}})]})]})]})]}),t&&(t.role==="HR"||t.department.pseudoAdmin)&&u.jsx(ts,{disabled:!M,loading:y,loadingIndicator:u.jsx(rs,{}),variant:"contained",sx:{alignSelf:"flex-start"},onClick:$,children:"Update"})]})]})}function ww(){return u.jsxs(u.Fragment,{children:[u.jsx(ns,{children:u.jsx("title",{children:" Profile | Employee Management System "})}),u.jsx(ow,{})]})}export{ww as default};
